<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Farmhand Dashboard</title>
    <style>
        body {
            background: #1e1e1e;
            color: #00ff00;
            font-family: 'Courier New', 'Consolas', 'Monaco', monospace;
            padding: 20px;
            margin: 0;
            line-height: 1.4;
        }
        .nav-container {
            text-align: center;
            margin-bottom: 30px;
            font-size: 16px;
            font-weight: bold;
        }
        .nav-bracket {
            color: #00ff00;
        }
        .nav-separator {
            color: #00ff00;
            margin: 0 10px;
        }
        .nav-link {
            color: #00ff00;
            text-decoration: none;
            padding: 5px 10px;
            transition: all 0.2s;
        }
        .nav-link:hover {
            color: #ffd700;
            text-shadow: 0 0 10px #ffd700;
        }
        .nav-link.active {
            color: #ffd700;
            font-weight: bold;
        }
        .dashboard-container {
            margin: 0 auto;
            /* Dynamically size to content width, but don't exceed viewport */
            width: fit-content;
            max-width: 95vw;
            min-width: 320px;
            padding: 20px;
            box-sizing: border-box;
            border: 3px solid #00ff00;
            border-radius: 8px;
            font-size: 14px; /* Will be dynamically adjusted by JavaScript */
            line-height: 1.6;
            white-space: pre;
            overflow-x: auto;
            text-align: left;
        }
        .header {
            color: #ffd700;
            font-weight: bold;
        }
        .chart-container {
            text-align: center;
            margin: 20px auto;
            max-width: 90%;
        }
        .chart-image {
            max-width: 100%;
            height: auto;
            border: 2px solid #00ff00;
            border-radius: 4px;
        }
        .chart-title {
            color: #ffd700;
            font-size: 16px;
            font-weight: bold;
            margin: 15px 0 10px 0;
        }
    </style>
</head>
<body>
    
    <div class="nav-container">
        <span class="nav-bracket">[</span>
        <a href="/dashboard" class="nav-link active">DASHBOARD</a>
        <span class="nav-separator">|</span>
        <a href="/trends" class="nav-link ">TRENDS</a>
        <span class="nav-bracket">]</span>
    </div>

    <div class="dashboard-container">FARMHAND
Generated: 2025-11-11 01:48:17 | Spring 6, Year 3
TOP 5 ACTIVE UNLOCKS
────────────────────
Combat Level 10   [███████████████░░░░░]  75%  75%
Community Center  [███████████████████░]  97%  97%
Ginger Island     [██████████░░░░░░░░░░]  50%  50%
Golden Walnuts (10[██████░░░░░░░░░░░░░░]  31%  31%
Museum Collection [███████████████░░░░░]  79%  79%
PERFECTION TRACKER
──────────────────
Overall Progress  [██████░░░░░░░░░░░░░░]  32%
Obelisks Built    [░░░░░░░░░░░░░░░░░░░░]   0%      0/4
Golden Clock      [░░░░░░░░░░░░░░░░░░░░]   0%       No
Monster Slayer    [░░░░░░░░░░░░░░░░░░░░]   0%     0/12
Recipes Cooked    [░░░░░░░░░░░░░░░░░░░░]   3%     3/81
Recipes Crafted   [██████░░░░░░░░░░░░░░]  34%   51/149
Fish Caught       [█████████████░░░░░░░]  68%    49/72
Stardrops Found   [██████████████░░░░░░]  71%      5/7
Produce Shipped   [███████████████████░]  96%  148/154
FINANCIAL TRENDS
────────────────
Current Balance:  551,613g
Daily Average:    4,723g/day v -16%
Best Day:         231,464g on Fall 16, Year 2
MOMENTUM ANALYSIS
─────────────────
=== 3-SESSION MOMENTUM ===
[COLD] No bundle progress in 3 sessions
[COLD] No relationship progress
=== 7-SESSION MOMENTUM ===
[RISING] Abigail (13 hearts)
[STALLED] Low income (6,073g/session)
[STALLED] No museum donations in 7 sessions</div>

<script>
    // Dynamically adjust font size to prevent wrapping
    function adjustFontSize() {
        const container = document.querySelector('.dashboard-container');
        if (!container) return;

        let fontSize = 14; // Start at 14px
        const minFontSize = 8; // Don't go below 8px
        const maxFontSize = 14; // Don't go above 14px

        container.style.fontSize = fontSize + 'px';

        // Check if content is wrapping (scrollWidth > clientWidth means horizontal overflow)
        while (container.scrollWidth > container.clientWidth && fontSize > minFontSize) {
            fontSize -= 0.5;
            container.style.fontSize = fontSize + 'px';
        }

        // If we have extra space, try to increase font size (up to max)
        while (container.scrollWidth <= container.clientWidth && fontSize < maxFontSize) {
            fontSize += 0.5;
            container.style.fontSize = fontSize + 'px';
            // If this made it overflow, roll back
            if (container.scrollWidth > container.clientWidth) {
                fontSize -= 0.5;
                container.style.fontSize = fontSize + 'px';
                break;
            }
        }

        console.log('Dashboard font size adjusted to:', fontSize + 'px');
    }

    // Run on page load
    window.addEventListener('load', adjustFontSize);

    // Re-adjust on window resize
    window.addEventListener('resize', adjustFontSize);
</script>
</body>
</html>
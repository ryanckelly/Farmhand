<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Farmhand Dashboard - Trends</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <style>
        body {
            background: #1e1e1e;
            color: #00ff00;
            font-family: 'Courier New', 'Consolas', 'Monaco', monospace;
            padding: 20px;
            margin: 0;
            line-height: 1.4;
        }
        .nav-container {
            text-align: center;
            margin-bottom: 30px;
            font-size: 16px;
            font-weight: bold;
        }
        .nav-bracket {
            color: #00ff00;
        }
        .nav-separator {
            color: #00ff00;
            margin: 0 10px;
        }
        .nav-link {
            color: #00ff00;
            text-decoration: none;
            padding: 5px 10px;
            transition: all 0.2s;
        }
        .nav-link:hover {
            color: #ffd700;
            text-shadow: 0 0 10px #ffd700;
        }
        .nav-link.active {
            color: #ffd700;
            font-weight: bold;
        }
        .dashboard-container {
            margin: 0 auto 20px auto;
            max-width: 800px;
            width: 95%;
            padding: 20px;
            box-sizing: border-box;
            border: 3px solid #00ff00;
            border-radius: 8px;
            font-size: clamp(10px, 2.5vw, 14px);
            line-height: 1.6;
            white-space: pre-wrap;
            word-wrap: break-word;
            text-align: center;
        }
        @media (max-width: 768px) {
            .dashboard-container {
                font-size: clamp(8px, 3vw, 12px);
            }
        }
        .filter-container {
            max-width: 800px;
            width: 95%;
            box-sizing: border-box;
            margin: 0 auto 20px auto;
            padding: 15px;
            background: rgba(0, 0, 0, 0.3);
            border: 2px solid #00ff00;
            border-radius: 4px;
        }
        .filter-primary {
            display: flex;
            align-items: center;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
            margin-bottom: 10px;
        }
        .filter-label {
            color: #ffd700;
            font-weight: bold;
            font-size: 14px;
        }
        .quick-filter-select {
            background: rgba(0, 255, 0, 0.2);
            border: 2px solid #00ff00;
            color: #00ff00;
            padding: 8px 40px 8px 12px;
            font-family: 'Courier New', 'Consolas', 'Monaco', monospace;
            font-size: 13px;
            font-weight: bold;
            border-radius: 4px;
            cursor: pointer;
            min-width: 180px;
            transition: all 0.2s;
        }
        .quick-filter-select:hover {
            background: rgba(0, 255, 0, 0.3);
            box-shadow: 0 0 10px rgba(0, 255, 0, 0.5);
        }
        .quick-filter-select:focus {
            outline: 2px solid #ffd700;
            outline-offset: 2px;
        }
        .filter-button {
            background: rgba(0, 255, 0, 0.2);
            color: #00ff00;
            border: 2px solid #00ff00;
            padding: 8px 16px;
            font-family: 'Courier New', 'Consolas', 'Monaco', monospace;
            font-size: 12px;
            font-weight: bold;
            cursor: pointer;
            border-radius: 4px;
            transition: all 0.2s;
        }
        .filter-button:hover {
            background: rgba(0, 255, 0, 0.3);
            box-shadow: 0 0 10px rgba(0, 255, 0, 0.5);
        }
        .filter-button.active {
            background: rgba(255, 215, 0, 0.2);
            border-color: #ffd700;
            color: #ffd700;
        }
        .filter-advanced {
            margin-top: 10px;
        }
        .advanced-toggle {
            background: rgba(0, 255, 0, 0.1);
            border: 1px solid rgba(0, 255, 0, 0.3);
            color: #00ff00;
            padding: 8px 12px;
            font-family: 'Courier New', 'Consolas', 'Monaco', monospace;
            font-size: 12px;
            cursor: pointer;
            border-radius: 4px;
            width: 100%;
            text-align: left;
            transition: all 0.2s;
        }
        .advanced-toggle:hover {
            background: rgba(0, 255, 0, 0.2);
        }
        .advanced-toggle .toggle-icon {
            display: inline-block;
            transition: transform 0.3s;
        }
        .advanced-toggle[aria-expanded="true"] .toggle-icon {
            transform: rotate(180deg);
        }
        .advanced-content {
            margin-top: 10px;
            padding: 15px;
            background: rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(0, 255, 0, 0.2);
            border-radius: 4px;
        }
        .aggregation-controls {
            border: none;
            padding: 0;
            margin: 0;
        }
        .aggregation-controls legend {
            color: #ffd700;
            font-size: 13px;
            font-weight: bold;
            margin-bottom: 10px;
        }
        .aggregation-buttons {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            justify-content: center;
            margin-bottom: 10px;
        }
        .agg-btn {
            background: rgba(0, 255, 0, 0.1);
            border: 2px solid rgba(0, 255, 0, 0.3);
            color: #00ff00;
            padding: 8px 16px;
            font-family: 'Courier New', 'Consolas', 'Monaco', monospace;
            font-size: 12px;
            font-weight: bold;
            cursor: pointer;
            border-radius: 20px;
            transition: all 0.2s;
            min-width: 80px;
        }
        .agg-btn:hover {
            background: rgba(0, 255, 0, 0.2);
            border-color: rgba(0, 255, 0, 0.5);
        }
        .agg-btn.active {
            background: rgba(255, 215, 0, 0.2);
            border-color: #ffd700;
            color: #ffd700;
            box-shadow: 0 0 10px rgba(255, 215, 0, 0.3);
        }
        .agg-help-text {
            color: rgba(0, 255, 0, 0.7);
            font-size: 11px;
            text-align: center;
            margin: 0;
            font-style: italic;
        }
        .chart-grid {
            display: flex;
            flex-direction: column;
            gap: 30px;
            max-width: 800px;
            width: 95%;
            margin: 30px auto;
            box-sizing: border-box;
        }
        .chart-container {
            background: rgba(0, 0, 0, 0.3);
            border: 2px solid #00ff00;
            border-radius: 4px;
            padding: 20px;
            box-shadow: 0 0 20px rgba(0, 255, 0, 0.2);
            width: 100%;
            margin: 0 auto;
            box-sizing: border-box;
        }
        .chart-container canvas {
            max-width: 100%;
            height: auto;
        }
        .chart-title {
            color: #ffd700;
            font-size: 16px;
            font-weight: bold;
            margin: 0 0 15px 0;
            text-transform: uppercase;
            text-align: center;
        }
        .villager-chip-bar {
            display: flex;
            overflow-x: auto;
            gap: 12px;
            padding: 15px 10px;
            margin: 20px auto;
            max-width: 800px;
            width: 95%;
            box-sizing: border-box;
            background: rgba(0, 0, 0, 0.3);
            border: 2px solid #00ff00;
            border-radius: 4px;
            scroll-behavior: smooth;
            -webkit-overflow-scrolling: touch;
        }
        .villager-chip-bar::-webkit-scrollbar {
            height: 8px;
        }
        .villager-chip-bar::-webkit-scrollbar-track {
            background: rgba(0, 255, 0, 0.1);
            border-radius: 4px;
        }
        .villager-chip-bar::-webkit-scrollbar-thumb {
            background: #00ff00;
            border-radius: 4px;
        }
        .villager-chip {
            flex-shrink: 0;
            width: 80px;
            text-align: center;
            cursor: pointer;
            opacity: 0.5;
            transition: all 0.3s ease;
            padding: 5px;
        }
        .villager-chip:hover {
            opacity: 0.8;
            transform: scale(1.05);
        }
        .villager-chip.active {
            opacity: 1;
            filter: drop-shadow(0 0 10px #ffd700);
        }
        .villager-portrait {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            border: 3px solid #00ff00;
            display: block;
            margin: 0 auto 5px auto;
            transition: all 0.3s ease;
            object-fit: cover;
            background: rgba(0, 0, 0, 0.5);
        }
        .villager-chip.active .villager-portrait {
            border-color: #ffd700;
            border-width: 4px;
        }
        .villager-name {
            font-size: 11px;
            color: #00ff00;
            margin-top: 3px;
        }
        .villager-hearts {
            font-size: 12px;
            color: #ffd700;
            font-weight: bold;
        }
    </style>
</head>
<body>
    
    <div class="nav-container">
        <span class="nav-bracket">[</span>
        <a href="/dashboard" class="nav-link ">DASHBOARD</a>
        <span class="nav-separator">|</span>
        <a href="/trends" class="nav-link active">TRENDS</a>
        <span class="nav-bracket">]</span>
    </div>

    <div class="dashboard-container">TRENDS &amp; ANALYTICS
Generated: 2025-11-09 12:32:35 | Winter 23, Year 2

Session-by-session analysis of your farm progress</div>

    <div class="filter-container">
        <div class="filter-primary">
            <label class="filter-label">Filter:</label>
            <select id="quickFilter" class="quick-filter-select">
                <option value="all">All Sessions</option>
                <option value="5">Last 5 Sessions</option>
                <option value="10" selected>Last 10 Sessions</option>
                <option value="20">Last 20 Sessions</option>
                <option value="this-week-real">This Week (real)</option>
                <option value="this-month-real">This Month (real)</option>
                <option value="this-season-game">This Season (game)</option>
                <option value="this-year-game">This Year (game)</option>
                <option value="custom">Custom Range...</option>
            </select>
            <button id="resetFilter" class="filter-button">Reset</button>
            <button id="xAxisToggle" class="filter-button">X-Axis: Game Dates</button>
        </div>

        <div class="filter-advanced" id="advancedPanel">
            <button class="advanced-toggle" id="advancedToggle" aria-expanded="false">
                <span class="toggle-icon">â–¼</span> Advanced Filters
            </button>

            <div class="advanced-content" id="advancedContent" hidden>
                <fieldset class="aggregation-controls">
                    <legend>Group by Time Period:</legend>
                    <div class="aggregation-buttons" id="aggregationButtons">
                        <button class="agg-btn active" data-level="session">Session</button>
                        <button class="agg-btn" data-level="day">Day</button>
                        <button class="agg-btn" data-level="week">Week</button>
                        <button class="agg-btn" data-level="period" data-game="season" data-real="month">Season/Month</button>
                        <button class="agg-btn" data-level="year">Year</button>
                    </div>
                    <p class="agg-help-text" id="aggHelpText">
                        ğŸ’¡ Currently grouping by GAME time. Switch X-Axis for real-world time.
                    </p>
                </fieldset>
            </div>
        </div>
    </div>

    <div class="chart-grid">
        <div class="chart-container">
            <div class="chart-title">Net Money Change</div>
            <canvas id="moneyChart"></canvas>
        </div>

        <div class="chart-container">
            <div class="chart-title">XP Gains by Skill</div>
            <canvas id="xpBySkillChart"></canvas>
        </div>

        <div class="chart-container">
            <div class="chart-title">Total XP Per Session</div>
            <canvas id="totalXPChart"></canvas>
        </div>

        <div class="chart-container">
            <div class="chart-title">Villager Relationships</div>
            <div class="villager-chip-bar" id="villagerChipBar">

        <div class="villager-chip active" data-villager="Abigail">
            <img src="/portraits/Abigail.png" alt="Abigail" class="villager-portrait" />
            <div class="villager-name">Abigail</div>
            <div class="villager-hearts">12â™¥</div>
        </div>
        <div class="villager-chip " data-villager="Alex">
            <img src="/portraits/Alex.png" alt="Alex" class="villager-portrait" />
            <div class="villager-name">Alex</div>
            <div class="villager-hearts">0â™¥</div>
        </div>
        <div class="villager-chip " data-villager="Caroline">
            <img src="/portraits/Caroline.png" alt="Caroline" class="villager-portrait" />
            <div class="villager-name">Caroline</div>
            <div class="villager-hearts">1â™¥</div>
        </div>
        <div class="villager-chip " data-villager="Clint">
            <img src="/portraits/Clint.png" alt="Clint" class="villager-portrait" />
            <div class="villager-name">Clint</div>
            <div class="villager-hearts">2â™¥</div>
        </div>
        <div class="villager-chip " data-villager="Demetrius">
            <img src="/portraits/Demetrius.png" alt="Demetrius" class="villager-portrait" />
            <div class="villager-name">Demetrius</div>
            <div class="villager-hearts">2â™¥</div>
        </div>
        <div class="villager-chip " data-villager="Dwarf">
            <img src="/portraits/Dwarf.png" alt="Dwarf" class="villager-portrait" />
            <div class="villager-name">Dwarf</div>
            <div class="villager-hearts">0â™¥</div>
        </div>
        <div class="villager-chip " data-villager="Elliott">
            <img src="/portraits/Elliott.png" alt="Elliott" class="villager-portrait" />
            <div class="villager-name">Elliott</div>
            <div class="villager-hearts">0â™¥</div>
        </div>
        <div class="villager-chip " data-villager="Emily">
            <img src="/portraits/Emily.png" alt="Emily" class="villager-portrait" />
            <div class="villager-name">Emily</div>
            <div class="villager-hearts">0â™¥</div>
        </div>
        <div class="villager-chip " data-villager="Evelyn">
            <img src="/portraits/Evelyn.png" alt="Evelyn" class="villager-portrait" />
            <div class="villager-name">Evelyn</div>
            <div class="villager-hearts">1â™¥</div>
        </div>
        <div class="villager-chip " data-villager="George">
            <img src="/portraits/George.png" alt="George" class="villager-portrait" />
            <div class="villager-name">George</div>
            <div class="villager-hearts">2â™¥</div>
        </div>
        <div class="villager-chip " data-villager="Gus">
            <img src="/portraits/Gus.png" alt="Gus" class="villager-portrait" />
            <div class="villager-name">Gus</div>
            <div class="villager-hearts">3â™¥</div>
        </div>
        <div class="villager-chip " data-villager="Haley">
            <img src="/portraits/Haley.png" alt="Haley" class="villager-portrait" />
            <div class="villager-name">Haley</div>
            <div class="villager-hearts">0â™¥</div>
        </div>
        <div class="villager-chip " data-villager="Harvey">
            <img src="/portraits/Harvey.png" alt="Harvey" class="villager-portrait" />
            <div class="villager-name">Harvey</div>
            <div class="villager-hearts">0â™¥</div>
        </div>
        <div class="villager-chip " data-villager="Jas">
            <img src="/portraits/Jas.png" alt="Jas" class="villager-portrait" />
            <div class="villager-name">Jas</div>
            <div class="villager-hearts">1â™¥</div>
        </div>
        <div class="villager-chip " data-villager="Jodi">
            <img src="/portraits/Jodi.png" alt="Jodi" class="villager-portrait" />
            <div class="villager-name">Jodi</div>
            <div class="villager-hearts">1â™¥</div>
        </div>
        <div class="villager-chip " data-villager="Kent">
            <img src="/portraits/Kent.png" alt="Kent" class="villager-portrait" />
            <div class="villager-name">Kent</div>
            <div class="villager-hearts">1â™¥</div>
        </div>
        <div class="villager-chip " data-villager="Krobus">
            <img src="/portraits/Krobus.png" alt="Krobus" class="villager-portrait" />
            <div class="villager-name">Krobus</div>
            <div class="villager-hearts">2â™¥</div>
        </div>
        <div class="villager-chip " data-villager="Leah">
            <img src="/portraits/Leah.png" alt="Leah" class="villager-portrait" />
            <div class="villager-name">Leah</div>
            <div class="villager-hearts">0â™¥</div>
        </div>
        <div class="villager-chip " data-villager="Lewis">
            <img src="/portraits/Lewis.png" alt="Lewis" class="villager-portrait" />
            <div class="villager-name">Lewis</div>
            <div class="villager-hearts">3â™¥</div>
        </div>
        <div class="villager-chip " data-villager="Linus">
            <img src="/portraits/Linus.png" alt="Linus" class="villager-portrait" />
            <div class="villager-name">Linus</div>
            <div class="villager-hearts">3â™¥</div>
        </div>
        <div class="villager-chip " data-villager="Marnie">
            <img src="/portraits/Marnie.png" alt="Marnie" class="villager-portrait" />
            <div class="villager-name">Marnie</div>
            <div class="villager-hearts">1â™¥</div>
        </div>
        <div class="villager-chip " data-villager="Maru">
            <img src="/portraits/Maru.png" alt="Maru" class="villager-portrait" />
            <div class="villager-name">Maru</div>
            <div class="villager-hearts">0â™¥</div>
        </div>
        <div class="villager-chip " data-villager="Pam">
            <img src="/portraits/Pam.png" alt="Pam" class="villager-portrait" />
            <div class="villager-name">Pam</div>
            <div class="villager-hearts">1â™¥</div>
        </div>
        <div class="villager-chip " data-villager="Penny">
            <img src="/portraits/Penny.png" alt="Penny" class="villager-portrait" />
            <div class="villager-name">Penny</div>
            <div class="villager-hearts">0â™¥</div>
        </div>
        <div class="villager-chip " data-villager="Pierre">
            <img src="/portraits/Pierre.png" alt="Pierre" class="villager-portrait" />
            <div class="villager-name">Pierre</div>
            <div class="villager-hearts">1â™¥</div>
        </div>
        <div class="villager-chip " data-villager="Robin">
            <img src="/portraits/Robin.png" alt="Robin" class="villager-portrait" />
            <div class="villager-name">Robin</div>
            <div class="villager-hearts">4â™¥</div>
        </div>
        <div class="villager-chip " data-villager="Sam">
            <img src="/portraits/Sam.png" alt="Sam" class="villager-portrait" />
            <div class="villager-name">Sam</div>
            <div class="villager-hearts">0â™¥</div>
        </div>
        <div class="villager-chip " data-villager="Sebastian">
            <img src="/portraits/Sebastian.png" alt="Sebastian" class="villager-portrait" />
            <div class="villager-name">Sebastian</div>
            <div class="villager-hearts">0â™¥</div>
        </div>
        <div class="villager-chip " data-villager="Shane">
            <img src="/portraits/Shane.png" alt="Shane" class="villager-portrait" />
            <div class="villager-name">Shane</div>
            <div class="villager-hearts">0â™¥</div>
        </div>
        <div class="villager-chip " data-villager="Vincent">
            <img src="/portraits/Vincent.png" alt="Vincent" class="villager-portrait" />
            <div class="villager-name">Vincent</div>
            <div class="villager-hearts">1â™¥</div>
        </div>
        <div class="villager-chip " data-villager="Willy">
            <img src="/portraits/Willy.png" alt="Willy" class="villager-portrait" />
            <div class="villager-name">Willy</div>
            <div class="villager-hearts">2â™¥</div>
        </div>
        <div class="villager-chip " data-villager="Wizard">
            <img src="/portraits/Wizard.png" alt="Wizard" class="villager-portrait" />
            <div class="villager-name">Wizard</div>
            <div class="villager-hearts">3â™¥</div>
        </div>
            </div>
            <canvas id="relationshipChart"></canvas>
        </div>

        <div class="chart-container">
            <div class="chart-title">Community Center Bundles</div>
            <canvas id="bundlesChart"></canvas>
        </div>

        <div class="chart-container">
            <div class="chart-title">Total Money Over Sessions</div>
            <canvas id="cumulativeMoneyChart"></canvas>
        </div>
    </div>

    <script>
        // Embed diary data
        const diaryData = {"entries": [{"session_id": "2025-11-01-1126", "detected_at": "2025-11-01T11:26:24.877454", "game_progress": {"start": "Fall 6, Year 2", "end": "Fall 7, Year 2", "days_played": 1, "play_time_minutes": 15}, "financial": {"starting_money": 63287, "ending_money": 222020, "change": 158733, "total_earned_lifetime": 1393148}, "key_accomplishments": ["Gained 165 Farming XP", "Gained 581 Foraging XP", "Gained 6 Mining XP", "Gained 39 Combat XP", "Earned 158,733g (net)", "Progressed 1 in-game day(s)"], "changes_detail": {"money_change": 158733, "total_earned_change": 158933, "days_passed": 1, "play_time_change": 903264, "skill_changes": {"farming": {"old_level": 10, "new_level": 10, "xp_gained": 165}, "foraging": {"old_level": 10, "new_level": 10, "xp_gained": 581}, "mining": {"old_level": 9, "new_level": 9, "xp_gained": 6}, "combat": {"old_level": 7, "new_level": 7, "xp_gained": 39}}, "animals_change": 0, "friendship_changes": {"Lewis": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Robin": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Abigail": {"old_hearts": 8, "new_hearts": 8, "points_gained": 55}, "Pierre": {"old_hearts": 0, "new_hearts": 0, "points_gained": 20}, "George": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Clint": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Emily": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Demetrius": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Linus": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Sebastian": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Wizard": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}}, "bundles_completed": 0}}, {"session_id": "2025-11-01-1203", "detected_at": "2025-11-01T12:03:38.917038", "game_progress": {"start": "Fall 7, Year 2", "end": "Fall 8, Year 2", "days_played": 1, "play_time_minutes": 23}, "financial": {"starting_money": 222020, "ending_money": 230257, "change": 8237, "total_earned_lifetime": 1404610}, "key_accomplishments": ["Gained 165 Farming XP", "Gained 706 Fishing XP", "Gained 44 Foraging XP", "Earned 8,237g (net)", "Completed 18 Community Center bundle(s)", "Progressed 1 in-game day(s)"], "changes_detail": {"money_change": 8237, "total_earned_change": 11462, "days_passed": 1, "play_time_change": 1387360, "skill_changes": {"farming": {"old_level": 10, "new_level": 10, "xp_gained": 165}, "fishing": {"old_level": 9, "new_level": 9, "xp_gained": 706}, "foraging": {"old_level": 10, "new_level": 10, "xp_gained": 44}}, "animals_change": 0, "friendship_changes": {"Lewis": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Robin": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Abigail": {"old_hearts": 8, "new_hearts": 8, "points_gained": 70}, "Pierre": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "George": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Clint": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Emily": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Demetrius": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Linus": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Sebastian": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Wizard": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}}, "bundles_completed": 18}}, {"session_id": "2025-11-01-1705", "detected_at": "2025-11-01T17:05:29.259085", "game_progress": {"start": "Fall 8, Year 2", "end": "Fall 13, Year 2", "days_played": 5, "play_time_minutes": 93}, "financial": {"starting_money": 230257, "ending_money": 87434, "change": -142823, "total_earned_lifetime": 1480487}, "key_accomplishments": ["Gained 3,265 Farming XP", "Gained 233 Fishing XP", "Gained 1,056 Foraging XP", "Gained 678 Mining XP", "Gained 299 Combat XP", "Invested 142,823g", "Sold 1 animals", "Completed 8 Community Center bundle(s)", "Progressed 5 in-game day(s)"], "changes_detail": {"money_change": -142823, "total_earned_change": 75877, "days_passed": 5, "play_time_change": 5631584, "skill_changes": {"farming": {"old_level": 10, "new_level": 10, "xp_gained": 3265}, "fishing": {"old_level": 9, "new_level": 9, "xp_gained": 233}, "foraging": {"old_level": 10, "new_level": 10, "xp_gained": 1056}, "mining": {"old_level": 9, "new_level": 9, "xp_gained": 678}, "combat": {"old_level": 7, "new_level": 7, "xp_gained": 299}}, "animals_change": -1, "friendship_changes": {"Lewis": {"old_hearts": 1, "new_hearts": 1, "points_gained": -10}, "Robin": {"old_hearts": 2, "new_hearts": 2, "points_gained": 12}, "Abigail": {"old_hearts": 8, "new_hearts": 8, "points_gained": 60}, "Pierre": {"old_hearts": 0, "new_hearts": 0, "points_gained": -10}, "George": {"old_hearts": 0, "new_hearts": 0, "points_gained": -10}, "Clint": {"old_hearts": 0, "new_hearts": 0, "points_gained": -10}, "Emily": {"old_hearts": 0, "new_hearts": 0, "points_gained": -10}, "Demetrius": {"old_hearts": 0, "new_hearts": 0, "points_gained": 12}, "Linus": {"old_hearts": 0, "new_hearts": 0, "points_gained": -10}, "Sebastian": {"old_hearts": 0, "new_hearts": 0, "points_gained": -10}, "Wizard": {"old_hearts": 0, "new_hearts": 0, "points_gained": 12}, "Krobus": {"old_hearts": 0, "new_hearts": 0, "points_gained": 14}}, "bundles_completed": 8}}, {"session_id": "2025-11-01-1950", "detected_at": "2025-11-01T19:50:41.683055", "game_progress": {"start": "Fall 13, Year 2", "end": "Fall 16, Year 2", "days_played": 3, "play_time_minutes": 47}, "financial": {"starting_money": 87434, "ending_money": 318898, "change": 231464, "total_earned_lifetime": 1736051}, "key_accomplishments": ["Gained 2,274 Farming XP", "Gained 36 Fishing XP", "Gained 779 Foraging XP", "Gained 8 Mining XP", "Gained 66 Combat XP", "Earned 231,464g (net)", "Purchased 1 new animals", "Reached 10 hearts with Abigail", "Completed 1 Community Center bundle(s)", "Progressed 3 in-game day(s)"], "changes_detail": {"money_change": 231464, "total_earned_change": 255564, "days_passed": 3, "play_time_change": 2872928, "skill_changes": {"farming": {"old_level": 10, "new_level": 10, "xp_gained": 2274}, "fishing": {"old_level": 9, "new_level": 9, "xp_gained": 36}, "foraging": {"old_level": 10, "new_level": 10, "xp_gained": 779}, "mining": {"old_level": 9, "new_level": 9, "xp_gained": 8}, "combat": {"old_level": 7, "new_level": 7, "xp_gained": 66}}, "animals_change": 1, "friendship_changes": {"Lewis": {"old_hearts": 1, "new_hearts": 1, "points_gained": -6}, "Robin": {"old_hearts": 2, "new_hearts": 2, "points_gained": -6}, "Abigail": {"old_hearts": 8, "new_hearts": 10, "points_gained": 521}, "Pierre": {"old_hearts": 0, "new_hearts": 0, "points_gained": -6}, "George": {"old_hearts": 0, "new_hearts": 0, "points_gained": -6}, "Clint": {"old_hearts": 0, "new_hearts": 0, "points_gained": -6}, "Willy": {"old_hearts": 0, "new_hearts": 0, "points_gained": 18}, "Emily": {"old_hearts": 0, "new_hearts": 0, "points_gained": -6}, "Demetrius": {"old_hearts": 0, "new_hearts": 0, "points_gained": -6}, "Linus": {"old_hearts": 0, "new_hearts": 0, "points_gained": -6}, "Sebastian": {"old_hearts": 0, "new_hearts": 0, "points_gained": -6}, "Wizard": {"old_hearts": 0, "new_hearts": 0, "points_gained": -6}, "Krobus": {"old_hearts": 0, "new_hearts": 0, "points_gained": 16}}, "bundles_completed": 1}}, {"session_id": "2025-11-02-1120", "detected_at": "2025-11-02T11:20:34.343736", "game_progress": {"start": "Fall 16, Year 2", "end": "Fall 20, Year 2", "days_played": 4, "play_time_minutes": 71}, "financial": {"starting_money": 318898, "ending_money": 363063, "change": 44165, "total_earned_lifetime": 1863241}, "key_accomplishments": ["Gained 1,014 Farming XP", "Gained 524 Foraging XP", "Reached Mining Level 10", "Gained 894 Combat XP", "Earned 44,165g (net)", "Reached 11 hearts with Abigail", "Reached 1 hearts with Gus", "Completed 2 Community Center bundle(s)", "Progressed 4 in-game day(s)"], "changes_detail": {"money_change": 44165, "total_earned_change": 127190, "days_passed": 4, "play_time_change": 4299440, "skill_changes": {"farming": {"old_level": 10, "new_level": 10, "xp_gained": 1014}, "foraging": {"old_level": 10, "new_level": 10, "xp_gained": 524}, "mining": {"old_level": 9, "new_level": 10, "xp_gained": 1175}, "combat": {"old_level": 7, "new_level": 7, "xp_gained": 894}}, "animals_change": 0, "friendship_changes": {"Lewis": {"old_hearts": 1, "new_hearts": 1, "points_gained": 14}, "Robin": {"old_hearts": 2, "new_hearts": 2, "points_gained": -8}, "Abigail": {"old_hearts": 10, "new_hearts": 11, "points_gained": 59}, "Pierre": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Gus": {"old_hearts": 0, "new_hearts": 1, "points_gained": 253}, "George": {"old_hearts": 0, "new_hearts": 0, "points_gained": -8}, "Shane": {"old_hearts": 0, "new_hearts": 0, "points_gained": 14}, "Clint": {"old_hearts": 0, "new_hearts": 0, "points_gained": 14}, "Willy": {"old_hearts": 0, "new_hearts": 0, "points_gained": -8}, "Emily": {"old_hearts": 0, "new_hearts": 0, "points_gained": -8}, "Demetrius": {"old_hearts": 0, "new_hearts": 0, "points_gained": -8}, "Linus": {"old_hearts": 0, "new_hearts": 0, "points_gained": -8}, "Sebastian": {"old_hearts": 0, "new_hearts": 0, "points_gained": -8}, "Wizard": {"old_hearts": 0, "new_hearts": 0, "points_gained": -8}, "Krobus": {"old_hearts": 0, "new_hearts": 0, "points_gained": -8}}, "bundles_completed": 2}}, {"session_id": "2025-11-02-1639", "detected_at": "2025-11-02T16:39:34.266056", "game_progress": {"start": "Fall 20, Year 2", "end": "Fall 21, Year 2", "days_played": 1, "play_time_minutes": 17}, "financial": {"starting_money": 363063, "ending_money": 373953, "change": 10890, "total_earned_lifetime": 1874231}, "key_accomplishments": ["Gained 1,983 Farming XP", "Gained 343 Foraging XP", "Gained 98 Mining XP", "Earned 10,890g (net)", "Progressed 1 in-game day(s)"], "bundle_readiness": {"ready_to_complete": [], "priority_bundles": [{"name": "Fodder Bundle", "missing": 1, "completion": "67%"}, {"name": "The Missing Bundle", "missing": 4, "completion": "20%"}]}, "changes_detail": {"money_change": 10890, "total_earned_change": 10990, "days_passed": 1, "play_time_change": 1028512, "skill_changes": {"farming": {"old_level": 10, "new_level": 10, "xp_gained": 1983}, "foraging": {"old_level": 10, "new_level": 10, "xp_gained": 343}, "mining": {"old_level": 10, "new_level": 10, "xp_gained": 98}}, "animals_change": 0, "friendship_changes": {"Lewis": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Robin": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Abigail": {"old_hearts": 11, "new_hearts": 11, "points_gained": 45}, "Gus": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "George": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Shane": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Clint": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Willy": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Emily": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Demetrius": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Linus": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Sebastian": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Wizard": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Krobus": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}}, "bundles_completed": 0}}, {"session_id": "2025-11-03-1814", "detected_at": "2025-11-03T18:14:17.957403", "game_progress": {"start": "Fall 24, Year 2", "end": "Fall 26, Year 2", "days_played": 2, "play_time_minutes": 41}, "financial": {"starting_money": 437574, "ending_money": 517664, "change": 80090, "total_earned_lifetime": 2031242}, "key_accomplishments": ["Gained 1,373 Farming XP", "Gained 228 Fishing XP", "Gained 426 Foraging XP", "Earned 80,090g (net)", "Progressed 2 in-game day(s)"], "bundle_readiness": {"ready_to_complete": [], "priority_bundles": [{"name": "The Missing Bundle", "missing": 4, "completion": "20%"}]}, "changes_detail": {"money_change": 80090, "total_earned_change": 80390, "days_passed": 2, "play_time_change": 2477872, "skill_changes": {"farming": {"old_level": 10, "new_level": 10, "xp_gained": 1373}, "fishing": {"old_level": 9, "new_level": 9, "xp_gained": 228}, "foraging": {"old_level": 10, "new_level": 10, "xp_gained": 426}}, "animals_change": 0, "friendship_changes": {"Lewis": {"old_hearts": 3, "new_hearts": 3, "points_gained": -4}, "Robin": {"old_hearts": 4, "new_hearts": 4, "points_gained": -4}, "Abigail": {"old_hearts": 11, "new_hearts": 11, "points_gained": 26}, "Pierre": {"old_hearts": 1, "new_hearts": 1, "points_gained": -4}, "Marnie": {"old_hearts": 1, "new_hearts": 1, "points_gained": -4}, "Gus": {"old_hearts": 2, "new_hearts": 2, "points_gained": -4}, "Evelyn": {"old_hearts": 1, "new_hearts": 1, "points_gained": -4}, "George": {"old_hearts": 2, "new_hearts": 2, "points_gained": -4}, "Shane": {"old_hearts": 0, "new_hearts": 0, "points_gained": -4}, "Pam": {"old_hearts": 1, "new_hearts": 1, "points_gained": -4}, "Clint": {"old_hearts": 2, "new_hearts": 2, "points_gained": -4}, "Jodi": {"old_hearts": 1, "new_hearts": 1, "points_gained": -4}, "Vincent": {"old_hearts": 1, "new_hearts": 1, "points_gained": -4}, "Jas": {"old_hearts": 1, "new_hearts": 1, "points_gained": -4}, "Willy": {"old_hearts": 2, "new_hearts": 2, "points_gained": 38}, "Emily": {"old_hearts": 0, "new_hearts": 0, "points_gained": -4}, "Demetrius": {"old_hearts": 2, "new_hearts": 2, "points_gained": -4}, "Linus": {"old_hearts": 2, "new_hearts": 2, "points_gained": -4}, "Caroline": {"old_hearts": 1, "new_hearts": 1, "points_gained": -4}, "Sebastian": {"old_hearts": 0, "new_hearts": 0, "points_gained": -4}, "Wizard": {"old_hearts": 2, "new_hearts": 2, "points_gained": -4}, "Kent": {"old_hearts": 1, "new_hearts": 1, "points_gained": -4}, "Krobus": {"old_hearts": 2, "new_hearts": 2, "points_gained": -4}}, "bundles_completed": 0}}, {"session_id": "2025-11-03-2054", "detected_at": "2025-11-03T20:54:35.849530", "game_progress": {"start": "Fall 26, Year 2", "end": "Winter 1, Year 2", "days_played": 3, "play_time_minutes": 59}, "financial": {"starting_money": 517664, "ending_money": 532822, "change": 15158, "total_earned_lifetime": 2129475}, "key_accomplishments": ["Gained 2,297 Farming XP", "Gained 242 Fishing XP", "Gained 528 Foraging XP", "Gained 65 Mining XP", "Gained 102 Combat XP", "Earned 15,158g (net)", "Reached 3 hearts with Linus", "Progressed 3 in-game day(s)"], "bundle_readiness": {"ready_to_complete": [], "priority_bundles": [{"name": "The Missing Bundle", "missing": 4, "completion": "20%"}]}, "changes_detail": {"money_change": 15158, "total_earned_change": 98233, "days_passed": 3, "play_time_change": 3540016, "skill_changes": {"farming": {"old_level": 10, "new_level": 10, "xp_gained": 2297}, "fishing": {"old_level": 9, "new_level": 9, "xp_gained": 242}, "foraging": {"old_level": 10, "new_level": 10, "xp_gained": 528}, "mining": {"old_level": 10, "new_level": 10, "xp_gained": 65}, "combat": {"old_level": 8, "new_level": 8, "xp_gained": 102}}, "animals_change": 0, "friendship_changes": {"Lewis": {"old_hearts": 3, "new_hearts": 3, "points_gained": -6}, "Robin": {"old_hearts": 4, "new_hearts": 4, "points_gained": -6}, "Abigail": {"old_hearts": 11, "new_hearts": 11, "points_gained": 13}, "Pierre": {"old_hearts": 1, "new_hearts": 1, "points_gained": -6}, "Marnie": {"old_hearts": 1, "new_hearts": 1, "points_gained": -6}, "Gus": {"old_hearts": 2, "new_hearts": 2, "points_gained": -6}, "Evelyn": {"old_hearts": 1, "new_hearts": 1, "points_gained": -6}, "George": {"old_hearts": 2, "new_hearts": 2, "points_gained": -6}, "Shane": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Pam": {"old_hearts": 1, "new_hearts": 1, "points_gained": -6}, "Clint": {"old_hearts": 2, "new_hearts": 2, "points_gained": -6}, "Jodi": {"old_hearts": 1, "new_hearts": 1, "points_gained": -6}, "Vincent": {"old_hearts": 1, "new_hearts": 1, "points_gained": -6}, "Jas": {"old_hearts": 1, "new_hearts": 1, "points_gained": -6}, "Willy": {"old_hearts": 2, "new_hearts": 2, "points_gained": 16}, "Emily": {"old_hearts": 0, "new_hearts": 0, "points_gained": -6}, "Demetrius": {"old_hearts": 2, "new_hearts": 2, "points_gained": -6}, "Linus": {"old_hearts": 2, "new_hearts": 3, "points_gained": 244}, "Caroline": {"old_hearts": 1, "new_hearts": 1, "points_gained": -6}, "Sebastian": {"old_hearts": 0, "new_hearts": 0, "points_gained": -6}, "Wizard": {"old_hearts": 2, "new_hearts": 2, "points_gained": -6}, "Dwarf": {"old_hearts": 0, "new_hearts": 0, "points_gained": 20}, "Kent": {"old_hearts": 1, "new_hearts": 1, "points_gained": -6}, "Krobus": {"old_hearts": 2, "new_hearts": 2, "points_gained": -6}}, "bundles_completed": 0}}, {"session_id": "2025-11-04-2256", "detected_at": "2025-11-04T22:56:02.244325", "game_progress": {"start": "Winter 1, Year 2", "end": "Winter 4, Year 2", "days_played": 3, "play_time_minutes": 60}, "financial": {"starting_money": 532822, "ending_money": 568331, "change": 35509, "total_earned_lifetime": 2176684}, "key_accomplishments": ["Gained 626 Farming XP", "Gained 819 Foraging XP", "Gained 2,032 Mining XP", "Gained 637 Combat XP", "Earned 35,509g (net)", "Progressed 3 in-game day(s)"], "bundle_readiness": {"ready_to_complete": [], "priority_bundles": [{"name": "The Missing Bundle", "missing": 4, "completion": "20%"}]}, "changes_detail": {"money_change": 35509, "total_earned_change": 47209, "days_passed": 3, "play_time_change": 3625264, "skill_changes": {"farming": {"old_level": 10, "new_level": 10, "xp_gained": 626}, "foraging": {"old_level": 10, "new_level": 10, "xp_gained": 819}, "mining": {"old_level": 10, "new_level": 10, "xp_gained": 2032}, "combat": {"old_level": 8, "new_level": 8, "xp_gained": 637}}, "animals_change": 0, "friendship_changes": {"Lewis": {"old_hearts": 3, "new_hearts": 3, "points_gained": -6}, "Robin": {"old_hearts": 4, "new_hearts": 4, "points_gained": -6}, "Abigail": {"old_hearts": 11, "new_hearts": 11, "points_gained": 39}, "Pierre": {"old_hearts": 1, "new_hearts": 1, "points_gained": -6}, "Marnie": {"old_hearts": 1, "new_hearts": 1, "points_gained": -6}, "Gus": {"old_hearts": 2, "new_hearts": 2, "points_gained": -6}, "Evelyn": {"old_hearts": 1, "new_hearts": 1, "points_gained": -6}, "George": {"old_hearts": 2, "new_hearts": 2, "points_gained": -6}, "Pam": {"old_hearts": 1, "new_hearts": 1, "points_gained": -6}, "Clint": {"old_hearts": 2, "new_hearts": 2, "points_gained": -6}, "Jodi": {"old_hearts": 1, "new_hearts": 1, "points_gained": -6}, "Vincent": {"old_hearts": 1, "new_hearts": 1, "points_gained": -6}, "Jas": {"old_hearts": 1, "new_hearts": 1, "points_gained": -6}, "Willy": {"old_hearts": 2, "new_hearts": 2, "points_gained": -6}, "Emily": {"old_hearts": 0, "new_hearts": 0, "points_gained": -6}, "Demetrius": {"old_hearts": 2, "new_hearts": 2, "points_gained": -6}, "Linus": {"old_hearts": 3, "new_hearts": 3, "points_gained": -6}, "Caroline": {"old_hearts": 1, "new_hearts": 1, "points_gained": -6}, "Sebastian": {"old_hearts": 0, "new_hearts": 0, "points_gained": -6}, "Wizard": {"old_hearts": 2, "new_hearts": 2, "points_gained": -6}, "Dwarf": {"old_hearts": 0, "new_hearts": 0, "points_gained": -6}, "Kent": {"old_hearts": 1, "new_hearts": 1, "points_gained": -6}, "Krobus": {"old_hearts": 2, "new_hearts": 1, "points_gained": -6}}, "bundles_completed": 0}}, {"session_id": "2025-11-04-2320", "detected_at": "2025-11-04T23:20:50.278987", "game_progress": {"start": "Winter 4, Year 2", "end": "Winter 5, Year 2", "days_played": 1, "play_time_minutes": 21}, "financial": {"starting_money": 568331, "ending_money": 677858, "change": 109527, "total_earned_lifetime": 2286211}, "key_accomplishments": ["Gained 912 Farming XP", "Gained 547 Fishing XP", "Gained 110 Foraging XP", "Earned 109,527g (net)", "Progressed 1 in-game day(s)"], "bundle_readiness": {"ready_to_complete": [], "priority_bundles": [{"name": "The Missing Bundle", "missing": 4, "completion": "20%"}]}, "changes_detail": {"money_change": 109527, "total_earned_change": 109527, "days_passed": 1, "play_time_change": 1308640, "skill_changes": {"farming": {"old_level": 10, "new_level": 10, "xp_gained": 912}, "fishing": {"old_level": 9, "new_level": 9, "xp_gained": 547}, "foraging": {"old_level": 10, "new_level": 10, "xp_gained": 110}}, "animals_change": 0, "friendship_changes": {"Lewis": {"old_hearts": 3, "new_hearts": 3, "points_gained": -2}, "Robin": {"old_hearts": 4, "new_hearts": 4, "points_gained": -2}, "Abigail": {"old_hearts": 11, "new_hearts": 11, "points_gained": 13}, "Pierre": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Marnie": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Gus": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Evelyn": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "George": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Pam": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Clint": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Jodi": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Vincent": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Jas": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Willy": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Emily": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Demetrius": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Linus": {"old_hearts": 3, "new_hearts": 3, "points_gained": -2}, "Caroline": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Sebastian": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Wizard": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Dwarf": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Kent": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Krobus": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}}, "bundles_completed": 0}}, {"session_id": "2025-11-04-2345", "detected_at": "2025-11-04T23:45:58.240001", "game_progress": {"start": "Winter 5, Year 2", "end": "Winter 6, Year 2", "days_played": 1, "play_time_minutes": 21}, "financial": {"starting_money": 677858, "ending_money": 684574, "change": 6716, "total_earned_lifetime": 2305977}, "key_accomplishments": ["Gained 155 Farming XP", "Gained 352 Fishing XP", "Gained 117 Foraging XP", "Earned 6,716g (net)", "Reached 3 hearts with Wizard", "Reached 2 hearts with Krobus", "Progressed 1 in-game day(s)"], "bundle_readiness": {"ready_to_complete": [], "priority_bundles": [{"name": "The Missing Bundle", "missing": 4, "completion": "20%"}]}, "changes_detail": {"money_change": 6716, "total_earned_change": 19766, "days_passed": 1, "play_time_change": 1290272, "skill_changes": {"farming": {"old_level": 10, "new_level": 10, "xp_gained": 155}, "fishing": {"old_level": 9, "new_level": 9, "xp_gained": 352}, "foraging": {"old_level": 10, "new_level": 10, "xp_gained": 117}}, "animals_change": 0, "friendship_changes": {"Lewis": {"old_hearts": 3, "new_hearts": 3, "points_gained": -2}, "Robin": {"old_hearts": 4, "new_hearts": 4, "points_gained": -2}, "Abigail": {"old_hearts": 11, "new_hearts": 11, "points_gained": 13}, "Pierre": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Marnie": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Gus": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Evelyn": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "George": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Pam": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Clint": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Elliott": {"old_hearts": 0, "new_hearts": 0, "points_gained": 20}, "Jodi": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Vincent": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Jas": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Willy": {"old_hearts": 2, "new_hearts": 2, "points_gained": 20}, "Emily": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Demetrius": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Linus": {"old_hearts": 3, "new_hearts": 3, "points_gained": -2}, "Caroline": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Sebastian": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Wizard": {"old_hearts": 2, "new_hearts": 3, "points_gained": 275}, "Dwarf": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Kent": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Krobus": {"old_hearts": 1, "new_hearts": 2, "points_gained": 20}}, "bundles_completed": 0}}, {"session_id": "2025-11-05-0010", "detected_at": "2025-11-05T00:10:07.805364", "game_progress": {"start": "Winter 6, Year 2", "end": "Winter 7, Year 2", "days_played": 1, "play_time_minutes": 20}, "financial": {"starting_money": 684574, "ending_money": 658405, "change": -26169, "total_earned_lifetime": 2336883}, "key_accomplishments": ["Gained 237 Farming XP", "Gained 45 Foraging XP", "Gained 409 Mining XP", "Invested 26,169g", "Purchased 3 new animals", "Reached 5 hearts with Robin", "Progressed 1 in-game day(s)"], "bundle_readiness": {"ready_to_complete": [], "priority_bundles": [{"name": "The Missing Bundle", "missing": 4, "completion": "20%"}]}, "changes_detail": {"money_change": -26169, "total_earned_change": 30906, "days_passed": 1, "play_time_change": 1226496, "skill_changes": {"farming": {"old_level": 10, "new_level": 10, "xp_gained": 237}, "foraging": {"old_level": 10, "new_level": 10, "xp_gained": 45}, "mining": {"old_level": 10, "new_level": 10, "xp_gained": 409}}, "animals_change": 3, "friendship_changes": {"Lewis": {"old_hearts": 3, "new_hearts": 3, "points_gained": -2}, "Robin": {"old_hearts": 4, "new_hearts": 5, "points_gained": 248}, "Abigail": {"old_hearts": 11, "new_hearts": 11, "points_gained": 13}, "Pierre": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Marnie": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Gus": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Evelyn": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "George": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Pam": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Clint": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Elliott": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Jodi": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Vincent": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Jas": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Willy": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Emily": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Demetrius": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Linus": {"old_hearts": 3, "new_hearts": 3, "points_gained": -2}, "Caroline": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Sebastian": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Wizard": {"old_hearts": 3, "new_hearts": 3, "points_gained": -2}, "Dwarf": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Kent": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Krobus": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}}, "bundles_completed": 0}}, {"session_id": "2025-11-06-1858", "detected_at": "2025-11-06T18:58:45.627528", "game_progress": {"start": "Winter 7, Year 2", "end": "Winter 8, Year 2", "days_played": 1, "play_time_minutes": 20}, "financial": {"starting_money": 658405, "ending_money": 679963, "change": 21558, "total_earned_lifetime": 2359941}, "key_accomplishments": ["Gained 175 Farming XP", "Gained 633 Fishing XP", "Gained 75 Foraging XP", "Earned 21,558g (net)", "Reached 12 hearts with Abigail", "Progressed 1 in-game day(s)"], "bundle_readiness": {"ready_to_complete": [], "priority_bundles": [{"name": "The Missing Bundle", "missing": 4, "completion": "20%"}]}, "changes_detail": {"money_change": 21558, "total_earned_change": 23058, "days_passed": 1, "play_time_change": 1211264, "skill_changes": {"farming": {"old_level": 10, "new_level": 10, "xp_gained": 175}, "fishing": {"old_level": 9, "new_level": 9, "xp_gained": 633}, "foraging": {"old_level": 10, "new_level": 10, "xp_gained": 75}}, "animals_change": 0, "friendship_changes": {"Lewis": {"old_hearts": 3, "new_hearts": 3, "points_gained": -2}, "Robin": {"old_hearts": 5, "new_hearts": 5, "points_gained": -2}, "Abigail": {"old_hearts": 11, "new_hearts": 12, "points_gained": 13}, "Pierre": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Marnie": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Gus": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Evelyn": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "George": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Pam": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Clint": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Elliott": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Jodi": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Vincent": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Jas": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Willy": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Emily": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Demetrius": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Linus": {"old_hearts": 3, "new_hearts": 3, "points_gained": -2}, "Caroline": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Sebastian": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Wizard": {"old_hearts": 3, "new_hearts": 3, "points_gained": -2}, "Dwarf": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Kent": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Krobus": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}}, "bundles_completed": 0}}, {"session_id": "2025-11-06-1932", "detected_at": "2025-11-06T19:32:43.064548", "game_progress": {"start": "Winter 8, Year 2", "end": "Winter 9, Year 2", "days_played": 1, "play_time_minutes": 11}, "financial": {"starting_money": 679963, "ending_money": 700946, "change": 20983, "total_earned_lifetime": 2380924}, "key_accomplishments": ["Gained 200 Farming XP", "Gained 50 Foraging XP", "Earned 20,983g (net)", "Progressed 1 in-game day(s)"], "bundle_readiness": {"ready_to_complete": [], "priority_bundles": [{"name": "The Missing Bundle", "missing": 4, "completion": "20%"}]}, "changes_detail": {"money_change": 20983, "total_earned_change": 20983, "days_passed": 1, "play_time_change": 664208, "skill_changes": {"farming": {"old_level": 10, "new_level": 10, "xp_gained": 200}, "foraging": {"old_level": 10, "new_level": 10, "xp_gained": 50}}, "animals_change": 0, "friendship_changes": {"Lewis": {"old_hearts": 3, "new_hearts": 3, "points_gained": 20}, "Robin": {"old_hearts": 5, "new_hearts": 5, "points_gained": -2}, "Abigail": {"old_hearts": 12, "new_hearts": 12, "points_gained": 13}, "Pierre": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Marnie": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Gus": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Evelyn": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "George": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Pam": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Clint": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Elliott": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Jodi": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Vincent": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Jas": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Willy": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Emily": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Demetrius": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Linus": {"old_hearts": 3, "new_hearts": 3, "points_gained": -2}, "Caroline": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Sebastian": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Wizard": {"old_hearts": 3, "new_hearts": 3, "points_gained": -2}, "Dwarf": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Kent": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Krobus": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}}, "bundles_completed": 0}}, {"session_id": "2025-11-06-1953", "detected_at": "2025-11-06T19:53:39.318246", "game_progress": {"start": "Winter 9, Year 2", "end": "Winter 10, Year 2", "days_played": 1, "play_time_minutes": 18}, "financial": {"starting_money": 700946, "ending_money": 602504, "change": -98442, "total_earned_lifetime": 2414557}, "key_accomplishments": ["Gained 180 Farming XP", "Gained 540 Fishing XP", "Gained 90 Foraging XP", "Gained 113 Mining XP", "Invested 98,442g", "Progressed 1 in-game day(s)"], "bundle_readiness": {"ready_to_complete": [], "priority_bundles": [{"name": "The Missing Bundle", "missing": 4, "completion": "20%"}]}, "changes_detail": {"money_change": -98442, "total_earned_change": 33633, "days_passed": 1, "play_time_change": 1134736, "skill_changes": {"farming": {"old_level": 10, "new_level": 10, "xp_gained": 180}, "fishing": {"old_level": 9, "new_level": 9, "xp_gained": 540}, "foraging": {"old_level": 10, "new_level": 10, "xp_gained": 90}, "mining": {"old_level": 10, "new_level": 10, "xp_gained": 113}}, "animals_change": 0, "friendship_changes": {"Lewis": {"old_hearts": 3, "new_hearts": 3, "points_gained": -2}, "Robin": {"old_hearts": 5, "new_hearts": 5, "points_gained": -2}, "Abigail": {"old_hearts": 12, "new_hearts": 12, "points_gained": 13}, "Pierre": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Marnie": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Gus": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Evelyn": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "George": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Pam": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Clint": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Elliott": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Jodi": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Vincent": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Jas": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Willy": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Emily": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Demetrius": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Linus": {"old_hearts": 3, "new_hearts": 3, "points_gained": -2}, "Caroline": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Sebastian": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Wizard": {"old_hearts": 3, "new_hearts": 3, "points_gained": -2}, "Dwarf": {"old_hearts": 0, "new_hearts": 0, "points_gained": 20}, "Kent": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Krobus": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}}, "bundles_completed": 0}}, {"session_id": "2025-11-06-2023", "detected_at": "2025-11-06T20:23:38.199097", "game_progress": {"start": "Winter 10, Year 2", "end": "Winter 11, Year 2", "days_played": 1, "play_time_minutes": 22}, "financial": {"starting_money": 602504, "ending_money": 611147, "change": 8643, "total_earned_lifetime": 2423200}, "key_accomplishments": ["Gained 260 Farming XP", "Reached Fishing Level 10", "Gained 86 Foraging XP", "Earned 8,643g (net)", "Progressed 1 in-game day(s)"], "bundle_readiness": {"ready_to_complete": [], "priority_bundles": [{"name": "The Missing Bundle", "missing": 4, "completion": "20%"}]}, "changes_detail": {"money_change": 8643, "total_earned_change": 8643, "days_passed": 1, "play_time_change": 1367888, "skill_changes": {"farming": {"old_level": 10, "new_level": 10, "xp_gained": 260}, "fishing": {"old_level": 9, "new_level": 10, "xp_gained": 1397}, "foraging": {"old_level": 10, "new_level": 10, "xp_gained": 86}}, "animals_change": 0, "friendship_changes": {"Lewis": {"old_hearts": 3, "new_hearts": 3, "points_gained": -2}, "Robin": {"old_hearts": 5, "new_hearts": 5, "points_gained": -2}, "Abigail": {"old_hearts": 12, "new_hearts": 12, "points_gained": 13}, "Pierre": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Marnie": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Gus": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Evelyn": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "George": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Penny": {"old_hearts": 0, "new_hearts": 0, "points_gained": 100}, "Pam": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Clint": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Elliott": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Jodi": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Vincent": {"old_hearts": 1, "new_hearts": 1, "points_gained": 20}, "Jas": {"old_hearts": 1, "new_hearts": 1, "points_gained": 20}, "Willy": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Emily": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Demetrius": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Linus": {"old_hearts": 3, "new_hearts": 3, "points_gained": -2}, "Caroline": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Sebastian": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Wizard": {"old_hearts": 3, "new_hearts": 3, "points_gained": -2}, "Dwarf": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Kent": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Krobus": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}}, "bundles_completed": 0}}, {"session_id": "2025-11-06-2203", "detected_at": "2025-11-06T22:03:46.713601", "game_progress": {"start": "Winter 11, Year 2", "end": "Winter 13, Year 2", "days_played": 2, "play_time_minutes": 37}, "financial": {"starting_money": 611147, "ending_money": 712218, "change": 101071, "total_earned_lifetime": 2525271}, "key_accomplishments": ["Gained 1,642 Farming XP", "Gained 194 Fishing XP", "Gained 164 Foraging XP", "Earned 101,071g (net)", "Progressed 2 in-game day(s)"], "bundle_readiness": {"ready_to_complete": [], "priority_bundles": [{"name": "The Missing Bundle", "missing": 4, "completion": "20%"}]}, "changes_detail": {"money_change": 101071, "total_earned_change": 102071, "days_passed": 2, "play_time_change": 2269232, "skill_changes": {"farming": {"old_level": 10, "new_level": 10, "xp_gained": 1642}, "fishing": {"old_level": 10, "new_level": 10, "xp_gained": 194}, "foraging": {"old_level": 10, "new_level": 10, "xp_gained": 164}}, "animals_change": 0, "friendship_changes": {"Lewis": {"old_hearts": 3, "new_hearts": 3, "points_gained": -4}, "Robin": {"old_hearts": 5, "new_hearts": 5, "points_gained": -4}, "Abigail": {"old_hearts": 12, "new_hearts": 12, "points_gained": 40}, "Pierre": {"old_hearts": 1, "new_hearts": 1, "points_gained": -4}, "Marnie": {"old_hearts": 1, "new_hearts": 1, "points_gained": -4}, "Gus": {"old_hearts": 2, "new_hearts": 2, "points_gained": -4}, "Evelyn": {"old_hearts": 1, "new_hearts": 1, "points_gained": -4}, "George": {"old_hearts": 2, "new_hearts": 2, "points_gained": -4}, "Penny": {"old_hearts": 0, "new_hearts": 0, "points_gained": -4}, "Pam": {"old_hearts": 1, "new_hearts": 1, "points_gained": -4}, "Clint": {"old_hearts": 2, "new_hearts": 2, "points_gained": -4}, "Elliott": {"old_hearts": 0, "new_hearts": 0, "points_gained": 18}, "Jodi": {"old_hearts": 1, "new_hearts": 1, "points_gained": -4}, "Vincent": {"old_hearts": 1, "new_hearts": 1, "points_gained": -4}, "Jas": {"old_hearts": 1, "new_hearts": 1, "points_gained": -4}, "Willy": {"old_hearts": 2, "new_hearts": 2, "points_gained": -4}, "Emily": {"old_hearts": 0, "new_hearts": 0, "points_gained": -4}, "Demetrius": {"old_hearts": 2, "new_hearts": 2, "points_gained": -4}, "Linus": {"old_hearts": 3, "new_hearts": 3, "points_gained": -4}, "Caroline": {"old_hearts": 1, "new_hearts": 1, "points_gained": -4}, "Sebastian": {"old_hearts": 0, "new_hearts": 0, "points_gained": -4}, "Wizard": {"old_hearts": 3, "new_hearts": 3, "points_gained": -4}, "Dwarf": {"old_hearts": 0, "new_hearts": 0, "points_gained": -4}, "Kent": {"old_hearts": 1, "new_hearts": 1, "points_gained": -4}, "Krobus": {"old_hearts": 2, "new_hearts": 2, "points_gained": -4}}, "bundles_completed": 0}}, {"session_id": "2025-11-07-2044", "detected_at": "2025-11-07T20:44:50.500358", "game_progress": {"start": "Winter 13, Year 2", "end": "Winter 14, Year 2", "days_played": 1, "play_time_minutes": 16}, "financial": {"starting_money": 712218, "ending_money": 441408, "change": -270810, "total_earned_lifetime": 2540461}, "key_accomplishments": ["Gained 175 Farming XP", "Gained 191 Foraging XP", "Gained 549 Mining XP", "Gained 160 Combat XP", "Invested 270,810g", "Progressed 1 in-game day(s)"], "bundle_readiness": {"ready_to_complete": [], "priority_bundles": [{"name": "The Missing Bundle", "missing": 4, "completion": "20%"}]}, "changes_detail": {"money_change": -270810, "total_earned_change": 15190, "days_passed": 1, "play_time_change": 1002896, "skill_changes": {"farming": {"old_level": 10, "new_level": 10, "xp_gained": 175}, "foraging": {"old_level": 10, "new_level": 10, "xp_gained": 191}, "mining": {"old_level": 10, "new_level": 10, "xp_gained": 549}, "combat": {"old_level": 8, "new_level": 8, "xp_gained": 160}}, "animals_change": 0, "friendship_changes": {"Lewis": {"old_hearts": 3, "new_hearts": 3, "points_gained": -2}, "Robin": {"old_hearts": 5, "new_hearts": 5, "points_gained": -2}, "Abigail": {"old_hearts": 12, "new_hearts": 12, "points_gained": 13}, "Pierre": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Marnie": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Gus": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Evelyn": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "George": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Penny": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Pam": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Clint": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Elliott": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Jodi": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Vincent": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Jas": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Willy": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Emily": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Demetrius": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Linus": {"old_hearts": 3, "new_hearts": 3, "points_gained": -2}, "Caroline": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Sebastian": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Wizard": {"old_hearts": 3, "new_hearts": 3, "points_gained": -2}, "Dwarf": {"old_hearts": 0, "new_hearts": 0, "points_gained": 20}, "Kent": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Krobus": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}}, "bundles_completed": 0}}, {"session_id": "2025-11-07-2209", "detected_at": "2025-11-07T22:09:18.801392", "game_progress": {"start": "Winter 14, Year 2", "end": "Winter 15, Year 2", "days_played": 1, "play_time_minutes": 22}, "financial": {"starting_money": 441408, "ending_money": 440473, "change": -935, "total_earned_lifetime": 2540526}, "key_accomplishments": ["Gained 5,563 Mining XP", "Gained 455 Combat XP", "Invested 935g", "Progressed 1 in-game day(s)"], "bundle_readiness": {"ready_to_complete": [], "priority_bundles": [{"name": "The Missing Bundle", "missing": 4, "completion": "20%"}]}, "changes_detail": {"money_change": -935, "total_earned_change": 65, "days_passed": 1, "play_time_change": 1329056, "skill_changes": {"mining": {"old_level": 10, "new_level": 10, "xp_gained": 5563}, "combat": {"old_level": 8, "new_level": 8, "xp_gained": 455}}, "animals_change": 0, "friendship_changes": {"Lewis": {"old_hearts": 3, "new_hearts": 3, "points_gained": -2}, "Robin": {"old_hearts": 5, "new_hearts": 5, "points_gained": -2}, "Abigail": {"old_hearts": 12, "new_hearts": 12, "points_gained": 13}, "Pierre": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Marnie": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Gus": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Evelyn": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "George": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Penny": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Pam": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Clint": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Elliott": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Jodi": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Vincent": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Jas": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Willy": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Emily": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Demetrius": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Linus": {"old_hearts": 3, "new_hearts": 3, "points_gained": -2}, "Caroline": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Sebastian": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Wizard": {"old_hearts": 3, "new_hearts": 3, "points_gained": -2}, "Dwarf": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Kent": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Krobus": {"old_hearts": 2, "new_hearts": 1, "points_gained": -2}}, "bundles_completed": 0}}, {"session_id": "2025-11-08-1512", "detected_at": "2025-11-08T15:12:54.400959", "game_progress": {"start": "Winter 15, Year 2", "end": "Winter 16, Year 2", "days_played": 1, "play_time_minutes": 24}, "financial": {"starting_money": 440473, "ending_money": 458012, "change": 17539, "total_earned_lifetime": 2559415}, "key_accomplishments": ["Gained 175 Farming XP", "Gained 36 Fishing XP", "Gained 82 Foraging XP", "Gained 130 Combat XP", "Earned 17,539g (net)", "Sold 1 animals", "Reached 2 hearts with Krobus", "Progressed 1 in-game day(s)"], "bundle_readiness": {"ready_to_complete": [], "priority_bundles": [{"name": "The Missing Bundle", "missing": 4, "completion": "20%"}]}, "changes_detail": {"money_change": 17539, "total_earned_change": 18889, "days_passed": 1, "play_time_change": 1491504, "skill_changes": {"farming": {"old_level": 10, "new_level": 10, "xp_gained": 175}, "fishing": {"old_level": 10, "new_level": 10, "xp_gained": 36}, "foraging": {"old_level": 10, "new_level": 10, "xp_gained": 82}, "combat": {"old_level": 8, "new_level": 8, "xp_gained": 130}}, "animals_change": -1, "friendship_changes": {"Lewis": {"old_hearts": 3, "new_hearts": 3, "points_gained": -2}, "Robin": {"old_hearts": 5, "new_hearts": 4, "points_gained": -2}, "Abigail": {"old_hearts": 12, "new_hearts": 12, "points_gained": 13}, "Pierre": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Marnie": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Gus": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Evelyn": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "George": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Penny": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Pam": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Clint": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Elliott": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Jodi": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Vincent": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Jas": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Willy": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Emily": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Demetrius": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Linus": {"old_hearts": 3, "new_hearts": 3, "points_gained": -2}, "Caroline": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Sebastian": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Wizard": {"old_hearts": 3, "new_hearts": 3, "points_gained": 20}, "Dwarf": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Kent": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Krobus": {"old_hearts": 1, "new_hearts": 2, "points_gained": 20}}, "bundles_completed": 0}}, {"session_id": "2025-11-08-1541", "detected_at": "2025-11-08T15:41:30.961450", "game_progress": {"start": "Winter 16, Year 2", "end": "Winter 17, Year 2", "days_played": 1, "play_time_minutes": 21}, "financial": {"starting_money": 458012, "ending_money": 446472, "change": -11540, "total_earned_lifetime": 2572875}, "key_accomplishments": ["Gained 170 Farming XP", "Gained 89 Foraging XP", "Gained 115 Mining XP", "Gained 132 Combat XP", "Invested 11,540g", "Progressed 1 in-game day(s)"], "bundle_readiness": {"ready_to_complete": [], "priority_bundles": [{"name": "The Missing Bundle", "missing": 4, "completion": "20%"}]}, "changes_detail": {"money_change": -11540, "total_earned_change": 13460, "days_passed": 1, "play_time_change": 1316048, "skill_changes": {"farming": {"old_level": 10, "new_level": 10, "xp_gained": 170}, "foraging": {"old_level": 10, "new_level": 10, "xp_gained": 89}, "mining": {"old_level": 10, "new_level": 10, "xp_gained": 115}, "combat": {"old_level": 8, "new_level": 8, "xp_gained": 132}}, "animals_change": 0, "friendship_changes": {"Lewis": {"old_hearts": 3, "new_hearts": 3, "points_gained": -2}, "Robin": {"old_hearts": 4, "new_hearts": 4, "points_gained": -2}, "Abigail": {"old_hearts": 12, "new_hearts": 12, "points_gained": 27}, "Pierre": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Marnie": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Gus": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Evelyn": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "George": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Penny": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Pam": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Clint": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Elliott": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Jodi": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Vincent": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Jas": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Willy": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Emily": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Demetrius": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Linus": {"old_hearts": 3, "new_hearts": 3, "points_gained": -2}, "Caroline": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Sebastian": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Wizard": {"old_hearts": 3, "new_hearts": 3, "points_gained": -2}, "Dwarf": {"old_hearts": 0, "new_hearts": 0, "points_gained": 20}, "Kent": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Krobus": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}}, "bundles_completed": 0}}, {"session_id": "2025-11-08-1602", "detected_at": "2025-11-08T16:02:21.708476", "game_progress": {"start": "Winter 17, Year 2", "end": "Winter 18, Year 2", "days_played": 1, "play_time_minutes": 22}, "financial": {"starting_money": 446472, "ending_money": 436094, "change": -10378, "total_earned_lifetime": 2587497}, "key_accomplishments": ["Gained 135 Farming XP", "Gained 487 Fishing XP", "Gained 176 Foraging XP", "Gained 24 Mining XP", "Gained 102 Combat XP", "Invested 10,378g", "Progressed 1 in-game day(s)"], "bundle_readiness": {"ready_to_complete": [], "priority_bundles": [{"name": "The Missing Bundle", "missing": 3, "completion": "40%"}]}, "changes_detail": {"money_change": -10378, "total_earned_change": 14622, "days_passed": 1, "play_time_change": 1346896, "skill_changes": {"farming": {"old_level": 10, "new_level": 10, "xp_gained": 135}, "fishing": {"old_level": 10, "new_level": 10, "xp_gained": 487}, "foraging": {"old_level": 10, "new_level": 10, "xp_gained": 176}, "mining": {"old_level": 10, "new_level": 10, "xp_gained": 24}, "combat": {"old_level": 8, "new_level": 8, "xp_gained": 102}}, "animals_change": 0, "friendship_changes": {"Lewis": {"old_hearts": 3, "new_hearts": 3, "points_gained": -2}, "Robin": {"old_hearts": 4, "new_hearts": 4, "points_gained": -2}, "Abigail": {"old_hearts": 12, "new_hearts": 12, "points_gained": 19}, "Pierre": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Marnie": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Gus": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Evelyn": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "George": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Penny": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Pam": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Clint": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Elliott": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Jodi": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Vincent": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Jas": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Willy": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Emily": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Demetrius": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Linus": {"old_hearts": 3, "new_hearts": 3, "points_gained": -2}, "Caroline": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Sebastian": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Wizard": {"old_hearts": 3, "new_hearts": 3, "points_gained": -2}, "Dwarf": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Kent": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Krobus": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}}, "bundles_completed": 0}}, {"session_id": "2025-11-08-1930", "detected_at": "2025-11-08T19:30:11.368747", "game_progress": {"start": "Winter 18, Year 2", "end": "Winter 19, Year 2", "days_played": 1, "play_time_minutes": 18}, "financial": {"starting_money": 436094, "ending_money": 489680, "change": 53586, "total_earned_lifetime": 2647083}, "key_accomplishments": ["Gained 2,243 Farming XP", "Gained 185 Fishing XP", "Gained 133 Foraging XP", "Earned 53,586g (net)", "Found 5 Golden Walnut(s)", "Progressed 1 in-game day(s)"], "bundle_readiness": {"ready_to_complete": [], "priority_bundles": [{"name": "The Missing Bundle", "missing": 3, "completion": "40%"}]}, "changes_detail": {"money_change": 53586, "total_earned_change": 59586, "days_passed": 1, "play_time_change": 1130704, "skill_changes": {"farming": {"old_level": 10, "new_level": 10, "xp_gained": 2243}, "fishing": {"old_level": 10, "new_level": 10, "xp_gained": 185}, "foraging": {"old_level": 10, "new_level": 10, "xp_gained": 133}}, "animals_change": 0, "friendship_changes": {"Lewis": {"old_hearts": 3, "new_hearts": 3, "points_gained": -2}, "Robin": {"old_hearts": 4, "new_hearts": 4, "points_gained": -2}, "Abigail": {"old_hearts": 12, "new_hearts": 12, "points_gained": 13}, "Pierre": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Marnie": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Gus": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Evelyn": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "George": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Penny": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Pam": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Clint": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Elliott": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Jodi": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Vincent": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Jas": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Willy": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Emily": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Demetrius": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Linus": {"old_hearts": 3, "new_hearts": 3, "points_gained": -2}, "Caroline": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Sebastian": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Wizard": {"old_hearts": 3, "new_hearts": 3, "points_gained": -2}, "Dwarf": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Kent": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Krobus": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}}, "bundles_completed": 0, "golden_walnuts_found": 5, "skull_cavern_depth_change": 0}}, {"session_id": "2025-11-08-1952", "detected_at": "2025-11-08T19:52:09.034132", "game_progress": {"start": "Winter 19, Year 2", "end": "Winter 20, Year 2", "days_played": 1, "play_time_minutes": 18}, "financial": {"starting_money": 489680, "ending_money": 487473, "change": -2207, "total_earned_lifetime": 2665776}, "key_accomplishments": ["Gained 213 Farming XP", "Gained 25 Fishing XP", "Gained 66 Foraging XP", "Gained 612 Mining XP", "Gained 352 Combat XP", "Invested 2,207g", "Reached 3 hearts with Gus", "Progressed 1 in-game day(s)"], "bundle_readiness": {"ready_to_complete": [], "priority_bundles": [{"name": "The Missing Bundle", "missing": 3, "completion": "40%"}]}, "changes_detail": {"money_change": -2207, "total_earned_change": 18693, "days_passed": 1, "play_time_change": 1126288, "skill_changes": {"farming": {"old_level": 10, "new_level": 10, "xp_gained": 213}, "fishing": {"old_level": 10, "new_level": 10, "xp_gained": 25}, "foraging": {"old_level": 10, "new_level": 10, "xp_gained": 66}, "mining": {"old_level": 10, "new_level": 10, "xp_gained": 612}, "combat": {"old_level": 8, "new_level": 8, "xp_gained": 352}}, "animals_change": 0, "friendship_changes": {"Lewis": {"old_hearts": 3, "new_hearts": 3, "points_gained": -2}, "Robin": {"old_hearts": 4, "new_hearts": 4, "points_gained": -2}, "Abigail": {"old_hearts": 12, "new_hearts": 12, "points_gained": 13}, "Pierre": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Marnie": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Gus": {"old_hearts": 2, "new_hearts": 3, "points_gained": 253}, "Evelyn": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "George": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Penny": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Pam": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Clint": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Elliott": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Jodi": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Vincent": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Jas": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Willy": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Emily": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Demetrius": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Linus": {"old_hearts": 3, "new_hearts": 3, "points_gained": -2}, "Caroline": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Sebastian": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Wizard": {"old_hearts": 3, "new_hearts": 3, "points_gained": -2}, "Dwarf": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Kent": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Krobus": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}}, "bundles_completed": 0, "golden_walnuts_found": 0, "skull_cavern_depth_change": 0}}, {"session_id": "2025-11-08-2326", "detected_at": "2025-11-08T23:26:50.519592", "game_progress": {"start": "Winter 20, Year 2", "end": "Winter 23, Year 2", "days_played": 3, "play_time_minutes": 88}, "financial": {"starting_money": 487473, "ending_money": 435500, "change": -51973, "total_earned_lifetime": 2715078}, "key_accomplishments": ["Gained 535 Farming XP", "Gained 45 Fishing XP", "Gained 340 Foraging XP", "Gained 285 Mining XP", "Gained 475 Combat XP", "Invested 51,973g", "Found 14 Golden Walnut(s)", "Progressed 3 in-game day(s)"], "bundle_readiness": {"ready_to_complete": [], "priority_bundles": [{"name": "The Missing Bundle", "missing": 3, "completion": "40%"}]}, "changes_detail": {"money_change": -51973, "total_earned_change": 49302, "days_passed": 3, "play_time_change": 5282080, "skill_changes": {"farming": {"old_level": 10, "new_level": 10, "xp_gained": 535}, "fishing": {"old_level": 10, "new_level": 10, "xp_gained": 45}, "foraging": {"old_level": 10, "new_level": 10, "xp_gained": 340}, "mining": {"old_level": 10, "new_level": 10, "xp_gained": 285}, "combat": {"old_level": 8, "new_level": 8, "xp_gained": 475}}, "animals_change": 0, "friendship_changes": {"Lewis": {"old_hearts": 3, "new_hearts": 3, "points_gained": -6}, "Robin": {"old_hearts": 4, "new_hearts": 4, "points_gained": -6}, "Abigail": {"old_hearts": 12, "new_hearts": 12, "points_gained": 13}, "Pierre": {"old_hearts": 1, "new_hearts": 1, "points_gained": -6}, "Marnie": {"old_hearts": 1, "new_hearts": 1, "points_gained": -6}, "Gus": {"old_hearts": 3, "new_hearts": 3, "points_gained": -6}, "Evelyn": {"old_hearts": 1, "new_hearts": 1, "points_gained": -6}, "George": {"old_hearts": 2, "new_hearts": 2, "points_gained": -6}, "Penny": {"old_hearts": 0, "new_hearts": 0, "points_gained": -6}, "Pam": {"old_hearts": 1, "new_hearts": 1, "points_gained": -6}, "Clint": {"old_hearts": 2, "new_hearts": 2, "points_gained": -6}, "Elliott": {"old_hearts": 0, "new_hearts": 0, "points_gained": -6}, "Jodi": {"old_hearts": 1, "new_hearts": 1, "points_gained": -6}, "Vincent": {"old_hearts": 1, "new_hearts": 1, "points_gained": -6}, "Jas": {"old_hearts": 1, "new_hearts": 1, "points_gained": -6}, "Willy": {"old_hearts": 2, "new_hearts": 2, "points_gained": -6}, "Emily": {"old_hearts": 0, "new_hearts": 0, "points_gained": -6}, "Demetrius": {"old_hearts": 2, "new_hearts": 2, "points_gained": -6}, "Linus": {"old_hearts": 3, "new_hearts": 3, "points_gained": -6}, "Caroline": {"old_hearts": 1, "new_hearts": 1, "points_gained": -6}, "Sebastian": {"old_hearts": 0, "new_hearts": 0, "points_gained": -6}, "Wizard": {"old_hearts": 3, "new_hearts": 3, "points_gained": -6}, "Dwarf": {"old_hearts": 0, "new_hearts": 0, "points_gained": -6}, "Kent": {"old_hearts": 1, "new_hearts": 1, "points_gained": -6}, "Krobus": {"old_hearts": 2, "new_hearts": 2, "points_gained": -6}}, "bundles_completed": 0, "golden_walnuts_found": 14, "skull_cavern_depth_change": 0}}], "meta": {"created": "2024-01-15", "total_sessions": 25, "last_updated": "2025-11-08T23:26:50.525412"}};

        // Embed rollup data
        const rollupData = {"game_time": {"by_week": [{"period": "Y2W1-Fall", "sessions_count": 1, "money_change": 158733, "xp_by_skill": {"farming": 165, "foraging": 581, "mining": 6, "combat": 39}, "total_xp": 791, "bundles_completed": 0, "days_played": 1}, {"period": "Y2W1-Winter", "sessions_count": 5, "money_change": 140741, "xp_by_skill": {"farming": 4227, "fishing": 1141, "foraging": 1619, "mining": 2506, "combat": 739}, "total_xp": 10232, "bundles_completed": 0, "days_played": 9}, {"period": "Y2W2-Fall", "sessions_count": 2, "money_change": -134586, "xp_by_skill": {"farming": 3430, "fishing": 939, "foraging": 1100, "mining": 678, "combat": 299}, "total_xp": 6446, "bundles_completed": 26, "days_played": 6}, {"period": "Y2W2-Winter", "sessions_count": 6, "money_change": -216997, "xp_by_skill": {"farming": 2632, "fishing": 2764, "foraging": 656, "mining": 662, "combat": 160}, "total_xp": 6874, "bundles_completed": 0, "days_played": 7}, {"period": "Y2W3-Fall", "sessions_count": 3, "money_change": 286519, "xp_by_skill": {"farming": 5271, "fishing": 36, "foraging": 1646, "mining": 1281, "combat": 960}, "total_xp": 9194, "bundles_completed": 3, "days_played": 8}, {"period": "Y2W3-Winter", "sessions_count": 6, "money_change": 46065, "xp_by_skill": {"mining": 6314, "combat": 1171, "farming": 2936, "fishing": 733, "foraging": 546}, "total_xp": 11700, "bundles_completed": 0, "days_played": 6}, {"period": "Y2W4-Fall", "sessions_count": 1, "money_change": 80090, "xp_by_skill": {"farming": 1373, "fishing": 228, "foraging": 426}, "total_xp": 2027, "bundles_completed": 0, "days_played": 2}, {"period": "Y2W4-Winter", "sessions_count": 1, "money_change": -51973, "xp_by_skill": {"farming": 535, "fishing": 45, "foraging": 340, "mining": 285, "combat": 475}, "total_xp": 1680, "bundles_completed": 0, "days_played": 3}], "by_season": [{"period": "Fall Y2", "sessions_count": 7, "money_change": 390756, "xp_by_skill": {"farming": 10239, "foraging": 3753, "mining": 1965, "combat": 1298, "fishing": 1203}, "total_xp": 18458, "bundles_completed": 29, "days_played": 17}, {"period": "Winter Y2", "sessions_count": 18, "money_change": -82164, "xp_by_skill": {"farming": 10330, "fishing": 4683, "foraging": 3161, "mining": 9767, "combat": 2545}, "total_xp": 30486, "bundles_completed": 0, "days_played": 25}], "by_year": [{"period": "Year 2", "sessions_count": 25, "money_change": 308592, "xp_by_skill": {"farming": 20569, "foraging": 6914, "mining": 11732, "combat": 3843, "fishing": 5886}, "total_xp": 48944, "bundles_completed": 29, "days_played": 42}]}, "real_time": {"by_week": [{"period": "2025-W44", "sessions_count": 6, "money_change": 310666, "xp_by_skill": {"farming": 8866, "foraging": 3327, "mining": 1965, "combat": 1298, "fishing": 975}, "total_xp": 16431, "bundles_completed": 29, "days_played": 15}, {"period": "2025-W45", "sessions_count": 19, "money_change": -2074, "xp_by_skill": {"farming": 11703, "fishing": 4911, "foraging": 3587, "mining": 9767, "combat": 2545}, "total_xp": 32513, "bundles_completed": 0, "days_played": 27}], "by_month": [{"period": "2025-11", "sessions_count": 25, "money_change": 308592, "xp_by_skill": {"farming": 20569, "foraging": 6914, "mining": 11732, "combat": 3843, "fishing": 5886}, "total_xp": 48944, "bundles_completed": 29, "days_played": 42}], "by_year": [{"period": "2025", "sessions_count": 25, "money_change": 308592, "xp_by_skill": {"farming": 20569, "foraging": 6914, "mining": 11732, "combat": 3843, "fishing": 5886}, "total_xp": 48944, "bundles_completed": 29, "days_played": 42}]}, "meta": {"total_entries": 25, "generated_at": "2025-11-09T12:19:51.692708", "game_date_range": {"earliest": {"season": "fall", "day": 7, "year": 2}, "latest": {"season": "winter", "day": 23, "year": 2}}, "real_date_range": {"earliest": "2025-11-01T11:26:24.877454", "latest": "2025-11-08T23:26:50.519592"}}};

        // Embed villager data
        const villagersData = [{"name": "Abigail", "hearts": 12, "points": 3205, "color": "#9b59b6", "initials": "AB", "max_hearts": 14}, {"name": "Alex", "hearts": 0, "points": 0, "color": "#3498db", "initials": "AL", "max_hearts": 14}, {"name": "Caroline", "hearts": 1, "points": 442, "color": "#2ecc71", "initials": "CA", "max_hearts": 10}, {"name": "Clint", "hearts": 2, "points": 575, "color": "#7f8c8d", "initials": "CL", "max_hearts": 10}, {"name": "Demetrius", "hearts": 2, "points": 537, "color": "#1abc9c", "initials": "DE", "max_hearts": 10}, {"name": "Dwarf", "hearts": 0, "points": 42, "color": "#696969", "initials": "DW", "max_hearts": 10}, {"name": "Elliott", "hearts": 0, "points": 8, "color": "#e74c3c", "initials": "EL", "max_hearts": 14}, {"name": "Emily", "hearts": 0, "points": 75, "color": "#ff1493", "initials": "EM", "max_hearts": 14}, {"name": "Evelyn", "hearts": 1, "points": 442, "color": "#ecf0f1", "initials": "EV", "max_hearts": 10}, {"name": "George", "hearts": 2, "points": 541, "color": "#bdc3c7", "initials": "GE", "max_hearts": 10}, {"name": "Gus", "hearts": 3, "points": 946, "color": "#d35400", "initials": "GU", "max_hearts": 10}, {"name": "Haley", "hearts": 0, "points": 0, "color": "#f39c12", "initials": "HA", "max_hearts": 14}, {"name": "Harvey", "hearts": 0, "points": 0, "color": "#16a085", "initials": "HV", "max_hearts": 14}, {"name": "Jas", "hearts": 1, "points": 464, "color": "#ff69b4", "initials": "JA", "max_hearts": 10}, {"name": "Jodi", "hearts": 1, "points": 442, "color": "#ff6347", "initials": "JO", "max_hearts": 10}, {"name": "Kent", "hearts": 1, "points": 442, "color": "#556b2f", "initials": "KE", "max_hearts": 10}, {"name": "Krobus", "hearts": 2, "points": 504, "color": "#4b0082", "initials": "KR", "max_hearts": 10}, {"name": "Leah", "hearts": 0, "points": 0, "color": "#27ae60", "initials": "LE", "max_hearts": 14}, {"name": "Lewis", "hearts": 3, "points": 771, "color": "#8b4513", "initials": "LW", "max_hearts": 10}, {"name": "Linus", "hearts": 3, "points": 800, "color": "#228b22", "initials": "LI", "max_hearts": 10}, {"name": "Marnie", "hearts": 1, "points": 442, "color": "#cd853f", "initials": "MN", "max_hearts": 10}, {"name": "Maru", "hearts": 0, "points": 0, "color": "#8e44ad", "initials": "MA", "max_hearts": 14}, {"name": "Pam", "hearts": 1, "points": 442, "color": "#daa520", "initials": "PM", "max_hearts": 10}, {"name": "Penny", "hearts": 0, "points": 76, "color": "#e67e22", "initials": "PE", "max_hearts": 14}, {"name": "Pierre", "hearts": 1, "points": 442, "color": "#32cd32", "initials": "PI", "max_hearts": 10}, {"name": "Robin", "hearts": 4, "points": 1235, "color": "#ff4500", "initials": "RO", "max_hearts": 10}, {"name": "Sam", "hearts": 0, "points": 0, "color": "#f1c40f", "initials": "SA", "max_hearts": 14}, {"name": "Sebastian", "hearts": 0, "points": 7, "color": "#34495e", "initials": "SE", "max_hearts": 14}, {"name": "Shane", "hearts": 0, "points": 0, "color": "#95a5a6", "initials": "SH", "max_hearts": 14}, {"name": "Vincent", "hearts": 1, "points": 464, "color": "#87ceeb", "initials": "VI", "max_hearts": 10}, {"name": "Willy", "hearts": 2, "points": 534, "color": "#4682b4", "initials": "WI", "max_hearts": 10}, {"name": "Wizard", "hearts": 3, "points": 876, "color": "#9370db", "initials": "WZ", "max_hearts": 10}];

        // Store selected villager (default: Abigail)
        let selectedVillager = localStorage.getItem('selectedVillager') || 'Abigail';

        // Villager chip selection handler
        document.addEventListener('DOMContentLoaded', function() {
            const chips = document.querySelectorAll('.villager-chip');

            chips.forEach(chip => {
                chip.addEventListener('click', function() {
                    const villagerName = this.dataset.villager;

                    // Update active state
                    chips.forEach(c => c.classList.remove('active'));
                    this.classList.add('active');

                    // Save selection
                    selectedVillager = villagerName;
                    localStorage.setItem('selectedVillager', villagerName);

                    // Scroll chip into view
                    this.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'center' });

                    // Update relationship chart using window function
                    if (window.refreshRelationshipChart) {
                        window.refreshRelationshipChart(villagerName);
                    }
                });
            });

            // Set initial selection from localStorage
            if (selectedVillager !== 'Abigail') {
                const savedChip = document.querySelector(`[data-villager="${selectedVillager}"]`);
                if (savedChip) {
                    document.querySelector('.villager-chip.active')?.classList.remove('active');
                    savedChip.classList.add('active');
                    savedChip.scrollIntoView({ behavior: 'auto', block: 'nearest', inline: 'center' });
                }
            }
        });

        // ============================================================
        // ADVANCED DATE FILTERING SYSTEM
        // Handles quick filters, aggregation controls, and context-aware UI
        // ============================================================

        // Global aggregation state
        const aggregationState = {
            currentLevel: 'session',  // session, day, week, period, year
            currentMode: 'game',      // game or real (follows xAxisMode)
            cachedRollups: {},      // Cache processed data to avoid recomputation
            originalData: null        // Store original chart data
        };

        /**
         * Initialize advanced filtering system
         */
        document.addEventListener('DOMContentLoaded', function() {
            // Check if rollupData exists
            if (typeof rollupData === 'undefined') {
                console.warn('Rollup data not available - advanced filtering disabled');
                return;
            }

            console.log('Initializing advanced filtering system');

            setupQuickFilter();
            setupAdvancedPanel();
            setupAggregationButtons();
            syncAggregationMode(); // Initial sync with xAxisMode
        });

        /**
         * Setup quick filter dropdown handler
         */
        function setupQuickFilter() {
            const quickFilter = document.getElementById('quickFilter');
            if (!quickFilter) return;

            quickFilter.addEventListener('change', function() {
                const value = this.value;
                console.log('Quick filter changed:', value);

                // Handle numeric values (session count)
                if (!isNaN(value) || value === 'all') {
                    const count = value === 'all' ? maxSessions : parseInt(value);

                    // Update slider if using session-level aggregation
                    if (aggregationState.currentLevel === 'session') {
                        const filterInput = document.getElementById('sessionFilter');
                        const sessionCount = document.getElementById('sessionCount');
                        if (filterInput) {
                            filterInput.value = count >= maxSessions ? maxSessions : count;
                            sessionCount.textContent = count >= maxSessions ? 'All' : count;
                        }
                    }

                    filterChartsByCount(count);
                    return;
                }

                // Handle time-based filters
                switch(value) {
                    case 'this-week-real':
                        filterByRealTimeRange('week');
                        break;
                    case 'this-month-real':
                        filterByRealTimeRange('month');
                        break;
                    case 'this-season-game':
                        filterByGameTimeRange('season');
                        break;
                    case 'this-year-game':
                        filterByGameTimeRange('year');
                        break;
                    case 'custom':
                        openAdvancedPanel();
                        break;
                }
            });
        }

        /**
         * Filter charts by session count
         */
        function filterChartsByCount(count) {
            if (aggregationState.currentLevel === 'session') {
                // Use existing filterCharts function
                filterCharts(count);
            } else {
                // For aggregated data, filter the rollup entries
                const aggregatedData = getAggregatedChartData(
                    aggregationState.currentLevel,
                    aggregationState.currentMode
                );

                if (!aggregatedData) return;

                // Apply count filter to aggregated data
                const totalEntries = aggregatedData.sessionLabels.length;
                const startIndex = Math.max(0, totalEntries - count);

                const filteredData = sliceChartData(aggregatedData, startIndex);
                updateAllCharts(filteredData);
            }
        }

        /**
         * Filter by real-world time range
         */
        function filterByRealTimeRange(period) {
            console.log('Filtering by real time range:', period);

            const now = new Date();
            const entries = diaryData.entries || [];

            let filteredEntries = entries;

            if (period === 'week') {
                // Last 7 days
                const weekAgo = new Date(now.getTime() - 7 * 24 * 60 * 60 * 1000);
                filteredEntries = entries.filter(e => {
                    const entryDate = new Date(e.detected_at);
                    return entryDate >= weekAgo;
                });
            } else if (period === 'month') {
                // Current month
                const monthStart = new Date(now.getFullYear(), now.getMonth(), 1);
                filteredEntries = entries.filter(e => {
                    const entryDate = new Date(e.detected_at);
                    return entryDate >= monthStart;
                });
            }

            if (filteredEntries.length === 0) {
                console.warn('No entries found in selected time range');
                return;
            }

            // Update session count to match filtered entries
            const filterInput = document.getElementById('sessionFilter');
            const sessionCount = document.getElementById('sessionCount');
            if (filterInput) {
                filterInput.value = filteredEntries.length;
                sessionCount.textContent = filteredEntries.length;
            }

            filterCharts(filteredEntries.length);
        }

        /**
         * Filter by game time range
         */
        function filterByGameTimeRange(period) {
            console.log('Filtering by game time range:', period);

            const entries = diaryData.entries || [];
            if (entries.length === 0) return;

            // Get the most recent game date
            const lastEntry = entries[entries.length - 1];
            const lastGameDate = lastEntry.game_progress?.end;
            if (!lastGameDate) {
                console.warn('Cannot determine current game date');
                return;
            }

            // Parse last game date (e.g., "Winter 23, Year 2")
            const match = lastGameDate.match(/(\w+)\s+(\d+),\s+Year\s+(\d+)/);
            if (!match) return;

            const [, lastSeason, lastDay, lastYear] = match;

            let filteredEntries = entries;

            if (period === 'season') {
                // Filter to current season
                filteredEntries = entries.filter(e => {
                    const endDate = e.game_progress?.end;
                    if (!endDate) return false;
                    const m = endDate.match(/(\w+)\s+(\d+),\s+Year\s+(\d+)/);
                    if (!m) return false;
                    return m[1] === lastSeason && m[3] === lastYear;
                });
            } else if (period === 'year') {
                // Filter to current year
                filteredEntries = entries.filter(e => {
                    const endDate = e.game_progress?.end;
                    if (!endDate) return false;
                    const m = endDate.match(/Year\s+(\d+)/);
                    if (!m) return false;
                    return m[1] === lastYear;
                });
            }

            if (filteredEntries.length === 0) {
                console.warn('No entries found in selected game time range');
                return;
            }

            // Update session count
            const filterInput = document.getElementById('sessionFilter');
            const sessionCount = document.getElementById('sessionCount');
            if (filterInput) {
                filterInput.value = filteredEntries.length;
                sessionCount.textContent = filteredEntries.length;
            }

            filterCharts(filteredEntries.length);
        }

        /**
         * Setup advanced panel toggle
         */
        function setupAdvancedPanel() {
            const advancedToggle = document.getElementById('advancedToggle');
            const advancedContent = document.getElementById('advancedContent');

            if (!advancedToggle || !advancedContent) return;

            advancedToggle.addEventListener('click', function() {
                const isExpanded = this.getAttribute('aria-expanded') === 'true';
                const newState = !isExpanded;

                this.setAttribute('aria-expanded', newState);
                advancedContent.hidden = !newState;

                // Update icon
                const icon = this.querySelector('.toggle-icon');
                if (icon) {
                    icon.textContent = newState ? 'â–²' : 'â–¼';
                }

                console.log('Advanced panel toggled:', newState ? 'open' : 'closed');
            });
        }

        /**
         * Open advanced panel programmatically
         */
        function openAdvancedPanel() {
            const advancedToggle = document.getElementById('advancedToggle');
            const advancedContent = document.getElementById('advancedContent');

            if (!advancedToggle || !advancedContent) return;

            advancedToggle.setAttribute('aria-expanded', 'true');
            advancedContent.hidden = false;

            const icon = advancedToggle.querySelector('.toggle-icon');
            if (icon) icon.textContent = 'â–²';

            // Scroll into view
            advancedToggle.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        /**
         * Setup aggregation button handlers
         */
        function setupAggregationButtons() {
            const buttons = document.querySelectorAll('.agg-btn');
            if (buttons.length === 0) return;

            buttons.forEach(button => {
                button.addEventListener('click', function() {
                    const level = this.dataset.level;
                    console.log('Aggregation button clicked:', level);

                    // Update active state
                    buttons.forEach(b => b.classList.remove('active'));
                    this.classList.add('active');

                    // Update aggregation state
                    aggregationState.currentLevel = level;

                    // Apply aggregation
                    applyAggregation(level);
                });
            });
        }

        /**
         * Sync aggregation mode with X-axis mode
         * Called when xAxisMode changes
         */
        function syncAggregationMode() {
            // Detect current xAxisMode
            const mode = (typeof xAxisMode !== 'undefined' && xAxisMode === 'dates') ? 'real' : 'game';
            aggregationState.currentMode = mode;

            console.log('Aggregation mode synced to:', mode);

            // Update help text
            updateAggregationHelpText(mode);

            // Update period button text
            updatePeriodButtonText(mode);
        }

        /**
         * Update help text based on current mode
         */
        function updateAggregationHelpText(mode) {
            const helpText = document.getElementById('aggHelpText');
            if (!helpText) return;

            if (mode === 'game') {
                helpText.textContent = 'ğŸ’¡ Currently grouping by GAME time. Switch X-Axis for real-world time.';
            } else {
                helpText.textContent = 'ğŸ’¡ Currently grouping by REAL time. Switch X-Axis for game time.';
            }
        }

        /**
         * Update period button text (Season/Month)
         */
        function updatePeriodButtonText(mode) {
            const periodBtn = document.querySelector('[data-level="period"]');
            if (!periodBtn) return;

            if (mode === 'game') {
                periodBtn.textContent = 'Season';
            } else {
                periodBtn.textContent = 'Month';
            }
        }

        /**
         * Apply aggregation to charts
         */
        function applyAggregation(level) {
            console.log('Applying aggregation:', level, 'mode:', aggregationState.currentMode);

            if (level === 'session') {
                // Reset to session-level view
                const filterInput = document.getElementById('sessionFilter');
                const count = filterInput ? parseInt(filterInput.value) : maxSessions;
                filterCharts(count >= maxSessions ? maxSessions : count);
                return;
            }

            // Get aggregated data
            const aggregatedData = getAggregatedChartData(level, aggregationState.currentMode);

            if (!aggregatedData || aggregatedData.sessionLabels.length === 0) {
                console.warn('No aggregated data available for:', level, aggregationState.currentMode);
                return;
            }

            // Update all charts with aggregated data
            updateAllCharts(aggregatedData);
        }

        /**
         * Get aggregated chart data from rollup data
         */
        function getAggregatedChartData(level, mode) {
            // Check cache first
            const cacheKey = `${level}_${mode}`;
            if (aggregationState.cachedRollups[cacheKey]) {
                console.log('Using cached rollup data:', cacheKey);
                return aggregationState.cachedRollups[cacheKey];
            }

            console.log('Computing aggregated data:', level, mode);

            // Determine which rollup source to use
            let rollupArray = null;
            const timeMode = mode === 'real' ? 'real_time' : 'game_time';

            if (level === 'day') {
                // Day-level: use session data grouped by day (not in rollups, use entries)
                return computeDayLevelData(mode);
            } else if (level === 'week') {
                rollupArray = rollupData[timeMode]?.by_week;
            } else if (level === 'period') {
                // Season for game, Month for real
                rollupArray = mode === 'real'
                    ? rollupData.real_time?.by_month
                    : rollupData.game_time?.by_season;
            } else if (level === 'year') {
                rollupArray = rollupData[timeMode]?.by_year;
            }

            if (!rollupArray || rollupArray.length === 0) {
                console.warn('No rollup data found for:', level, mode);
                return null;
            }

            // Convert rollup data to chart-compatible format
            const chartData = {
                sessionLabels: [],
                dateLabels: [],
                moneyChanges: [],
                farmingXP: [],
                fishingXP: [],
                foragingXP: [],
                miningXP: [],
                combatXP: [],
                totalXP: [],
                bundlesCompleted: [],
                cumulativeBundles: [],
                villagerHearts: {},
                cumulativeMoney: []
            };

            // Initialize villager hearts
            if (typeof villagersData !== 'undefined') {
                villagersData.forEach(villager => {
                    chartData.villagerHearts[villager.name] = [];
                });
            }

            let cumulativeBundles = 0;
            let cumulativeMoney = 0;

            rollupArray.forEach((entry, index) => {
                // Extract label (period name)
                const label = entry.period || `Entry ${index}`;
                chartData.sessionLabels.push(label);
                chartData.dateLabels.push(label); // Same for both in aggregated view

                // Money change
                const moneyChange = entry.money_change || 0;
                chartData.moneyChanges.push(moneyChange);
                cumulativeMoney += moneyChange;
                chartData.cumulativeMoney.push(cumulativeMoney);

                // XP by skill
                const xpBySkill = entry.xp_by_skill || {};
                chartData.farmingXP.push(xpBySkill.farming || 0);
                chartData.fishingXP.push(xpBySkill.fishing || 0);
                chartData.foragingXP.push(xpBySkill.foraging || 0);
                chartData.miningXP.push(xpBySkill.mining || 0);
                chartData.combatXP.push(xpBySkill.combat || 0);
                chartData.totalXP.push(entry.total_xp || 0);

                // Bundles
                const bundles = entry.bundles_completed || 0;
                chartData.bundlesCompleted.push(bundles);
                cumulativeBundles += bundles;
                chartData.cumulativeBundles.push(cumulativeBundles);

                // Villager hearts (use zeros for aggregated view - not tracked in rollups)
                for (const villagerName in chartData.villagerHearts) {
                    chartData.villagerHearts[villagerName].push(0);
                }
            });

            // Cache the result
            aggregationState.cachedRollups[cacheKey] = chartData;

            return chartData;
        }

        /**
         * Compute day-level aggregation from session entries
         */
        function computeDayLevelData(mode) {
            const entries = diaryData.entries || [];
            if (entries.length === 0) return null;

            // Group entries by day
            const dayGroups = {};

            entries.forEach(entry => {
                let dayKey;

                if (mode === 'real') {
                    // Group by real-world date (YYYY-MM-DD)
                    if (!entry.detected_at) return;
                    const date = new Date(entry.detected_at);
                    dayKey = date.toISOString().split('T')[0];
                } else {
                    // Group by game date (Season Day, Year)
                    const gameDate = entry.game_progress?.end;
                    if (!gameDate) return;
                    dayKey = gameDate; // Use full date as key
                }

                if (!dayGroups[dayKey]) {
                    dayGroups[dayKey] = [];
                }
                dayGroups[dayKey].push(entry);
            });

            // Convert to chart data
            const chartData = {
                sessionLabels: [],
                dateLabels: [],
                moneyChanges: [],
                farmingXP: [],
                fishingXP: [],
                foragingXP: [],
                miningXP: [],
                combatXP: [],
                totalXP: [],
                bundlesCompleted: [],
                cumulativeBundles: [],
                villagerHearts: {},
                cumulativeMoney: []
            };

            // Initialize villager hearts
            if (typeof villagersData !== 'undefined') {
                villagersData.forEach(villager => {
                    chartData.villagerHearts[villager.name] = [];
                });
            }

            let cumulativeBundles = 0;
            let cumulativeMoney = 0;

            // Process each day
            Object.keys(dayGroups).sort().forEach(dayKey => {
                const dayEntries = dayGroups[dayKey];

                // Format label
                let label = dayKey;
                if (mode === 'real') {
                    const date = new Date(dayKey);
                    label = date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });
                } else {
                    // Remove year from game date
                    label = dayKey.replace(/, Year \d+/, '');
                }

                chartData.sessionLabels.push(label);
                chartData.dateLabels.push(label);

                // Aggregate values for all entries in this day
                let dayMoney = 0;
                let dayFarming = 0;
                let dayFishing = 0;
                let dayForaging = 0;
                let dayMining = 0;
                let dayCombat = 0;
                let dayBundles = 0;

                dayEntries.forEach(entry => {
                    dayMoney += entry.financial?.change || 0;

                    const skills = entry.changes_detail?.skill_changes || {};
                    dayFarming += skills.farming?.xp_gained || 0;
                    dayFishing += skills.fishing?.xp_gained || 0;
                    dayForaging += skills.foraging?.xp_gained || 0;
                    dayMining += skills.mining?.xp_gained || 0;
                    dayCombat += skills.combat?.xp_gained || 0;

                    dayBundles += entry.changes_detail?.bundles_completed || 0;
                });

                chartData.moneyChanges.push(dayMoney);
                cumulativeMoney += dayMoney;
                chartData.cumulativeMoney.push(cumulativeMoney);

                chartData.farmingXP.push(dayFarming);
                chartData.fishingXP.push(dayFishing);
                chartData.foragingXP.push(dayForaging);
                chartData.miningXP.push(dayMining);
                chartData.combatXP.push(dayCombat);
                chartData.totalXP.push(dayFarming + dayFishing + dayForaging + dayMining + dayCombat);

                chartData.bundlesCompleted.push(dayBundles);
                cumulativeBundles += dayBundles;
                chartData.cumulativeBundles.push(cumulativeBundles);

                // Villager hearts (use last entry's values)
                const lastEntry = dayEntries[dayEntries.length - 1];
                const friendships = lastEntry.changes_detail?.friendship_changes || {};

                for (const villagerName in chartData.villagerHearts) {
                    const hearts = friendships[villagerName]?.new_hearts || 0;
                    chartData.villagerHearts[villagerName].push(hearts);
                }
            });

            return chartData;
        }

        /**
         * Slice chart data from startIndex
         */
        function sliceChartData(data, startIndex) {
            const sliced = {
                sessionLabels: data.sessionLabels.slice(startIndex),
                dateLabels: data.dateLabels.slice(startIndex),
                moneyChanges: data.moneyChanges.slice(startIndex),
                farmingXP: data.farmingXP.slice(startIndex),
                fishingXP: data.fishingXP.slice(startIndex),
                foragingXP: data.foragingXP.slice(startIndex),
                miningXP: data.miningXP.slice(startIndex),
                combatXP: data.combatXP.slice(startIndex),
                totalXP: data.totalXP.slice(startIndex),
                bundlesCompleted: data.bundlesCompleted.slice(startIndex),
                cumulativeBundles: data.cumulativeBundles.slice(startIndex),
                villagerHearts: {},
                cumulativeMoney: data.cumulativeMoney.slice(startIndex)
            };

            for (const villagerName in data.villagerHearts) {
                sliced.villagerHearts[villagerName] = data.villagerHearts[villagerName].slice(startIndex);
            }

            return sliced;
        }

        /**
         * Update all charts with new data
         */
        function updateAllCharts(chartData) {
            updateMoneyChart(chartData);
            updateXPBySkillChart(chartData);
            updateTotalXPChart(chartData);
            updateRelationshipChart(chartData);
            updateBundlesChart(chartData);
            updateCumulativeMoneyChart(chartData);
        }

        /**
         * Hook into existing xAxisToggle to sync aggregation mode
         */
        (function() {
            // Wait for chart_renderer.js to load
            const checkInterval = setInterval(() => {
                const toggleButton = document.getElementById('xAxisToggle');
                if (!toggleButton) return;

                clearInterval(checkInterval);

                // Add event listener to sync aggregation mode
                toggleButton.addEventListener('click', function() {
                    // Wait for xAxisMode to update
                    setTimeout(() => {
                        syncAggregationMode();

                        // Re-apply current aggregation if not at session level
                        if (aggregationState.currentLevel !== 'session') {
                            // Clear cache since mode changed
                            aggregationState.cachedRollups = {};
                            applyAggregation(aggregationState.currentLevel);
                        }
                    }, 50);
                });
            }, 100);
        })();
    </script>
    <script src="chart_config.js"></script>
    <script src="chart_renderer.js"></script>
</body>
</html>
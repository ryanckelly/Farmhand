<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Farmhand Dashboard - Trends</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <style>
        body {
            background: #1e1e1e;
            color: #00ff00;
            font-family: 'Courier New', 'Consolas', 'Monaco', monospace;
            padding: 20px;
            margin: 0;
            line-height: 1.4;
        }
        .nav-container {
            text-align: center;
            margin-bottom: 30px;
            font-size: 16px;
            font-weight: bold;
        }
        .nav-bracket {
            color: #00ff00;
        }
        .nav-separator {
            color: #00ff00;
            margin: 0 10px;
        }
        .nav-link {
            color: #00ff00;
            text-decoration: none;
            padding: 5px 10px;
            transition: all 0.2s;
        }
        .nav-link:hover {
            color: #ffd700;
            text-shadow: 0 0 10px #ffd700;
        }
        .nav-link.active {
            color: #ffd700;
            font-weight: bold;
        }
        .dashboard-container {
            margin: 0 auto 20px auto;
            max-width: 800px;
            width: 95%;
            padding: 20px;
            box-sizing: border-box;
            border: 3px solid #00ff00;
            border-radius: 8px;
            font-size: clamp(10px, 2.5vw, 14px);
            line-height: 1.6;
            white-space: pre-wrap;
            word-wrap: break-word;
            text-align: center;
        }
        @media (max-width: 768px) {
            .dashboard-container {
                font-size: clamp(8px, 3vw, 12px);
            }
        }
        .filter-container {
            max-width: 800px;
            width: 95%;
            box-sizing: border-box;
            margin: 0 auto 20px auto;
            padding: 15px;
            background: rgba(0, 0, 0, 0.3);
            border: 2px solid #00ff00;
            border-radius: 4px;
            display: flex;
            align-items: center;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }
        .filter-label {
            color: #ffd700;
            font-weight: bold;
            font-size: 14px;
        }
        #sessionFilter {
            flex: 1;
            min-width: 150px;
            max-width: 250px;
            height: 6px;
            background: rgba(0, 255, 0, 0.2);
            border-radius: 3px;
            outline: none;
            -webkit-appearance: none;
        }
        #sessionFilter::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 18px;
            height: 18px;
            background: #00ff00;
            border: 2px solid #ffd700;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 0 10px rgba(0, 255, 0, 0.5);
        }
        #sessionFilter::-moz-range-thumb {
            width: 18px;
            height: 18px;
            background: #00ff00;
            border: 2px solid #ffd700;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 0 10px rgba(0, 255, 0, 0.5);
        }
        #sessionFilter::-webkit-slider-track {
            background: rgba(0, 255, 0, 0.2);
            border-radius: 3px;
        }
        #sessionCount {
            color: #00ff00;
            font-weight: bold;
            min-width: 50px;
            text-align: center;
        }
        .filter-button {
            background: rgba(0, 255, 0, 0.2);
            color: #00ff00;
            border: 2px solid #00ff00;
            padding: 8px 16px;
            font-family: 'Courier New', 'Consolas', 'Monaco', monospace;
            font-size: 12px;
            font-weight: bold;
            cursor: pointer;
            border-radius: 4px;
            transition: all 0.2s;
        }
        .filter-button:hover {
            background: rgba(0, 255, 0, 0.3);
            box-shadow: 0 0 10px rgba(0, 255, 0, 0.5);
        }
        .filter-button.active {
            background: rgba(255, 215, 0, 0.2);
            border-color: #ffd700;
            color: #ffd700;
        }
        .chart-grid {
            display: flex;
            flex-direction: column;
            gap: 30px;
            max-width: 800px;
            width: 95%;
            margin: 30px auto;
            box-sizing: border-box;
        }
        .chart-container {
            background: rgba(0, 0, 0, 0.3);
            border: 2px solid #00ff00;
            border-radius: 4px;
            padding: 20px;
            box-shadow: 0 0 20px rgba(0, 255, 0, 0.2);
            width: 100%;
            margin: 0 auto;
            box-sizing: border-box;
        }
        .chart-container canvas {
            max-width: 100%;
            height: auto;
        }
        .chart-title {
            color: #ffd700;
            font-size: 16px;
            font-weight: bold;
            margin: 0 0 15px 0;
            text-transform: uppercase;
            text-align: center;
        }
        .villager-chip-bar {
            display: flex;
            overflow-x: auto;
            gap: 12px;
            padding: 15px 10px;
            margin: 20px auto;
            max-width: 800px;
            width: 95%;
            box-sizing: border-box;
            background: rgba(0, 0, 0, 0.3);
            border: 2px solid #00ff00;
            border-radius: 4px;
            scroll-behavior: smooth;
            -webkit-overflow-scrolling: touch;
        }
        .villager-chip-bar::-webkit-scrollbar {
            height: 8px;
        }
        .villager-chip-bar::-webkit-scrollbar-track {
            background: rgba(0, 255, 0, 0.1);
            border-radius: 4px;
        }
        .villager-chip-bar::-webkit-scrollbar-thumb {
            background: #00ff00;
            border-radius: 4px;
        }
        .villager-chip {
            flex-shrink: 0;
            width: 80px;
            text-align: center;
            cursor: pointer;
            opacity: 0.5;
            transition: all 0.3s ease;
            padding: 5px;
        }
        .villager-chip:hover {
            opacity: 0.8;
            transform: scale(1.05);
        }
        .villager-chip.active {
            opacity: 1;
            filter: drop-shadow(0 0 10px #ffd700);
        }
        .villager-portrait {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            border: 3px solid #00ff00;
            display: block;
            margin: 0 auto 5px auto;
            transition: all 0.3s ease;
            object-fit: cover;
            background: rgba(0, 0, 0, 0.5);
        }
        .villager-chip.active .villager-portrait {
            border-color: #ffd700;
            border-width: 4px;
        }
        .villager-name {
            font-size: 11px;
            color: #00ff00;
            margin-top: 3px;
        }
        .villager-hearts {
            font-size: 12px;
            color: #ffd700;
            font-weight: bold;
        }
    </style>
</head>
<body>
    
    <div class="nav-container">
        <span class="nav-bracket">[</span>
        <a href="/dashboard" class="nav-link ">DASHBOARD</a>
        <span class="nav-separator">|</span>
        <a href="/trends" class="nav-link active">TRENDS</a>
        <span class="nav-bracket">]</span>
    </div>

    <div class="dashboard-container">TRENDS &amp; ANALYTICS
Generated: 2025-11-05 22:44:34 | Winter 7, Year 2

Session-by-session analysis of your farm progress</div>

    <div class="filter-container">
        <div class="filter-label">Sessions to Display:</div>
        <input type="range" id="sessionFilter" min="5" max="100" value="100" step="1">
        <span id="sessionCount">All</span>
        <button id="resetFilter" class="filter-button">Reset</button>
        <button id="xAxisToggle" class="filter-button">X-Axis: Game Dates</button>
    </div>

    <div class="chart-grid">
        <div class="chart-container">
            <div class="chart-title">Net Money Change</div>
            <canvas id="moneyChart"></canvas>
        </div>

        <div class="chart-container">
            <div class="chart-title">XP Gains by Skill</div>
            <canvas id="xpBySkillChart"></canvas>
        </div>

        <div class="chart-container">
            <div class="chart-title">Total XP Per Session</div>
            <canvas id="totalXPChart"></canvas>
        </div>

        <div class="chart-container">
            <div class="chart-title">Villager Relationships</div>
            <div class="villager-chip-bar" id="villagerChipBar">

        <div class="villager-chip active" data-villager="Abigail">
            <img src="/portraits/Abigail.png" alt="Abigail" class="villager-portrait" />
            <div class="villager-name">Abigail</div>
            <div class="villager-hearts">11♥</div>
        </div>
        <div class="villager-chip " data-villager="Alex">
            <img src="/portraits/Alex.png" alt="Alex" class="villager-portrait" />
            <div class="villager-name">Alex</div>
            <div class="villager-hearts">0♥</div>
        </div>
        <div class="villager-chip " data-villager="Caroline">
            <img src="/portraits/Caroline.png" alt="Caroline" class="villager-portrait" />
            <div class="villager-name">Caroline</div>
            <div class="villager-hearts">1♥</div>
        </div>
        <div class="villager-chip " data-villager="Clint">
            <img src="/portraits/Clint.png" alt="Clint" class="villager-portrait" />
            <div class="villager-name">Clint</div>
            <div class="villager-hearts">2♥</div>
        </div>
        <div class="villager-chip " data-villager="Demetrius">
            <img src="/portraits/Demetrius.png" alt="Demetrius" class="villager-portrait" />
            <div class="villager-name">Demetrius</div>
            <div class="villager-hearts">2♥</div>
        </div>
        <div class="villager-chip " data-villager="Dwarf">
            <img src="/portraits/Dwarf.png" alt="Dwarf" class="villager-portrait" />
            <div class="villager-name">Dwarf</div>
            <div class="villager-hearts">0♥</div>
        </div>
        <div class="villager-chip " data-villager="Elliott">
            <img src="/portraits/Elliott.png" alt="Elliott" class="villager-portrait" />
            <div class="villager-name">Elliott</div>
            <div class="villager-hearts">0♥</div>
        </div>
        <div class="villager-chip " data-villager="Emily">
            <img src="/portraits/Emily.png" alt="Emily" class="villager-portrait" />
            <div class="villager-name">Emily</div>
            <div class="villager-hearts">0♥</div>
        </div>
        <div class="villager-chip " data-villager="Evelyn">
            <img src="/portraits/Evelyn.png" alt="Evelyn" class="villager-portrait" />
            <div class="villager-name">Evelyn</div>
            <div class="villager-hearts">1♥</div>
        </div>
        <div class="villager-chip " data-villager="George">
            <img src="/portraits/George.png" alt="George" class="villager-portrait" />
            <div class="villager-name">George</div>
            <div class="villager-hearts">2♥</div>
        </div>
        <div class="villager-chip " data-villager="Gus">
            <img src="/portraits/Gus.png" alt="Gus" class="villager-portrait" />
            <div class="villager-name">Gus</div>
            <div class="villager-hearts">2♥</div>
        </div>
        <div class="villager-chip " data-villager="Haley">
            <img src="/portraits/Haley.png" alt="Haley" class="villager-portrait" />
            <div class="villager-name">Haley</div>
            <div class="villager-hearts">0♥</div>
        </div>
        <div class="villager-chip " data-villager="Harvey">
            <img src="/portraits/Harvey.png" alt="Harvey" class="villager-portrait" />
            <div class="villager-name">Harvey</div>
            <div class="villager-hearts">0♥</div>
        </div>
        <div class="villager-chip " data-villager="Jas">
            <img src="/portraits/Jas.png" alt="Jas" class="villager-portrait" />
            <div class="villager-name">Jas</div>
            <div class="villager-hearts">1♥</div>
        </div>
        <div class="villager-chip " data-villager="Jodi">
            <img src="/portraits/Jodi.png" alt="Jodi" class="villager-portrait" />
            <div class="villager-name">Jodi</div>
            <div class="villager-hearts">1♥</div>
        </div>
        <div class="villager-chip " data-villager="Kent">
            <img src="/portraits/Kent.png" alt="Kent" class="villager-portrait" />
            <div class="villager-name">Kent</div>
            <div class="villager-hearts">1♥</div>
        </div>
        <div class="villager-chip " data-villager="Krobus">
            <img src="/portraits/Krobus.png" alt="Krobus" class="villager-portrait" />
            <div class="villager-name">Krobus</div>
            <div class="villager-hearts">2♥</div>
        </div>
        <div class="villager-chip " data-villager="Leah">
            <img src="/portraits/Leah.png" alt="Leah" class="villager-portrait" />
            <div class="villager-name">Leah</div>
            <div class="villager-hearts">0♥</div>
        </div>
        <div class="villager-chip " data-villager="Lewis">
            <img src="/portraits/Lewis.png" alt="Lewis" class="villager-portrait" />
            <div class="villager-name">Lewis</div>
            <div class="villager-hearts">3♥</div>
        </div>
        <div class="villager-chip " data-villager="Linus">
            <img src="/portraits/Linus.png" alt="Linus" class="villager-portrait" />
            <div class="villager-name">Linus</div>
            <div class="villager-hearts">3♥</div>
        </div>
        <div class="villager-chip " data-villager="Marnie">
            <img src="/portraits/Marnie.png" alt="Marnie" class="villager-portrait" />
            <div class="villager-name">Marnie</div>
            <div class="villager-hearts">1♥</div>
        </div>
        <div class="villager-chip " data-villager="Maru">
            <img src="/portraits/Maru.png" alt="Maru" class="villager-portrait" />
            <div class="villager-name">Maru</div>
            <div class="villager-hearts">0♥</div>
        </div>
        <div class="villager-chip " data-villager="Pam">
            <img src="/portraits/Pam.png" alt="Pam" class="villager-portrait" />
            <div class="villager-name">Pam</div>
            <div class="villager-hearts">1♥</div>
        </div>
        <div class="villager-chip " data-villager="Penny">
            <img src="/portraits/Penny.png" alt="Penny" class="villager-portrait" />
            <div class="villager-name">Penny</div>
            <div class="villager-hearts">0♥</div>
        </div>
        <div class="villager-chip " data-villager="Pierre">
            <img src="/portraits/Pierre.png" alt="Pierre" class="villager-portrait" />
            <div class="villager-name">Pierre</div>
            <div class="villager-hearts">1♥</div>
        </div>
        <div class="villager-chip " data-villager="Robin">
            <img src="/portraits/Robin.png" alt="Robin" class="villager-portrait" />
            <div class="villager-name">Robin</div>
            <div class="villager-hearts">5♥</div>
        </div>
        <div class="villager-chip " data-villager="Sam">
            <img src="/portraits/Sam.png" alt="Sam" class="villager-portrait" />
            <div class="villager-name">Sam</div>
            <div class="villager-hearts">0♥</div>
        </div>
        <div class="villager-chip " data-villager="Sebastian">
            <img src="/portraits/Sebastian.png" alt="Sebastian" class="villager-portrait" />
            <div class="villager-name">Sebastian</div>
            <div class="villager-hearts">0♥</div>
        </div>
        <div class="villager-chip " data-villager="Shane">
            <img src="/portraits/Shane.png" alt="Shane" class="villager-portrait" />
            <div class="villager-name">Shane</div>
            <div class="villager-hearts">0♥</div>
        </div>
        <div class="villager-chip " data-villager="Vincent">
            <img src="/portraits/Vincent.png" alt="Vincent" class="villager-portrait" />
            <div class="villager-name">Vincent</div>
            <div class="villager-hearts">1♥</div>
        </div>
        <div class="villager-chip " data-villager="Willy">
            <img src="/portraits/Willy.png" alt="Willy" class="villager-portrait" />
            <div class="villager-name">Willy</div>
            <div class="villager-hearts">2♥</div>
        </div>
        <div class="villager-chip " data-villager="Wizard">
            <img src="/portraits/Wizard.png" alt="Wizard" class="villager-portrait" />
            <div class="villager-name">Wizard</div>
            <div class="villager-hearts">3♥</div>
        </div>
            </div>
            <canvas id="relationshipChart"></canvas>
        </div>

        <div class="chart-container">
            <div class="chart-title">Community Center Bundles</div>
            <canvas id="bundlesChart"></canvas>
        </div>

        <div class="chart-container">
            <div class="chart-title">Total Money Over Sessions</div>
            <canvas id="cumulativeMoneyChart"></canvas>
        </div>
    </div>

    <script>
        // Embed diary data
        const diaryData = {"entries": [{"session_id": "2025-11-01-1126", "detected_at": "2025-11-01T11:26:24.877454", "game_progress": {"start": "Fall 6, Year 2", "end": "Fall 7, Year 2", "days_played": 1, "play_time_minutes": 15}, "financial": {"starting_money": 63287, "ending_money": 222020, "change": 158733, "total_earned_lifetime": 1393148}, "key_accomplishments": ["Gained 165 Farming XP", "Gained 581 Foraging XP", "Gained 6 Mining XP", "Gained 39 Combat XP", "Earned 158,733g (net)", "Progressed 1 in-game day(s)"], "changes_detail": {"money_change": 158733, "total_earned_change": 158933, "days_passed": 1, "play_time_change": 903264, "skill_changes": {"farming": {"old_level": 10, "new_level": 10, "xp_gained": 165}, "foraging": {"old_level": 10, "new_level": 10, "xp_gained": 581}, "mining": {"old_level": 9, "new_level": 9, "xp_gained": 6}, "combat": {"old_level": 7, "new_level": 7, "xp_gained": 39}}, "animals_change": 0, "friendship_changes": {"Lewis": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Robin": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Abigail": {"old_hearts": 8, "new_hearts": 8, "points_gained": 55}, "Pierre": {"old_hearts": 0, "new_hearts": 0, "points_gained": 20}, "George": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Clint": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Emily": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Demetrius": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Linus": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Sebastian": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Wizard": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}}, "bundles_completed": 0}}, {"session_id": "2025-11-01-1203", "detected_at": "2025-11-01T12:03:38.917038", "game_progress": {"start": "Fall 7, Year 2", "end": "Fall 8, Year 2", "days_played": 1, "play_time_minutes": 23}, "financial": {"starting_money": 222020, "ending_money": 230257, "change": 8237, "total_earned_lifetime": 1404610}, "key_accomplishments": ["Gained 165 Farming XP", "Gained 706 Fishing XP", "Gained 44 Foraging XP", "Earned 8,237g (net)", "Completed 18 Community Center bundle(s)", "Progressed 1 in-game day(s)"], "changes_detail": {"money_change": 8237, "total_earned_change": 11462, "days_passed": 1, "play_time_change": 1387360, "skill_changes": {"farming": {"old_level": 10, "new_level": 10, "xp_gained": 165}, "fishing": {"old_level": 9, "new_level": 9, "xp_gained": 706}, "foraging": {"old_level": 10, "new_level": 10, "xp_gained": 44}}, "animals_change": 0, "friendship_changes": {"Lewis": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Robin": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Abigail": {"old_hearts": 8, "new_hearts": 8, "points_gained": 70}, "Pierre": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "George": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Clint": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Emily": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Demetrius": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Linus": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Sebastian": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Wizard": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}}, "bundles_completed": 18}}, {"session_id": "2025-11-01-1705", "detected_at": "2025-11-01T17:05:29.259085", "game_progress": {"start": "Fall 8, Year 2", "end": "Fall 13, Year 2", "days_played": 5, "play_time_minutes": 93}, "financial": {"starting_money": 230257, "ending_money": 87434, "change": -142823, "total_earned_lifetime": 1480487}, "key_accomplishments": ["Gained 3,265 Farming XP", "Gained 233 Fishing XP", "Gained 1,056 Foraging XP", "Gained 678 Mining XP", "Gained 299 Combat XP", "Invested 142,823g", "Sold 1 animals", "Completed 8 Community Center bundle(s)", "Progressed 5 in-game day(s)"], "changes_detail": {"money_change": -142823, "total_earned_change": 75877, "days_passed": 5, "play_time_change": 5631584, "skill_changes": {"farming": {"old_level": 10, "new_level": 10, "xp_gained": 3265}, "fishing": {"old_level": 9, "new_level": 9, "xp_gained": 233}, "foraging": {"old_level": 10, "new_level": 10, "xp_gained": 1056}, "mining": {"old_level": 9, "new_level": 9, "xp_gained": 678}, "combat": {"old_level": 7, "new_level": 7, "xp_gained": 299}}, "animals_change": -1, "friendship_changes": {"Lewis": {"old_hearts": 1, "new_hearts": 1, "points_gained": -10}, "Robin": {"old_hearts": 2, "new_hearts": 2, "points_gained": 12}, "Abigail": {"old_hearts": 8, "new_hearts": 8, "points_gained": 60}, "Pierre": {"old_hearts": 0, "new_hearts": 0, "points_gained": -10}, "George": {"old_hearts": 0, "new_hearts": 0, "points_gained": -10}, "Clint": {"old_hearts": 0, "new_hearts": 0, "points_gained": -10}, "Emily": {"old_hearts": 0, "new_hearts": 0, "points_gained": -10}, "Demetrius": {"old_hearts": 0, "new_hearts": 0, "points_gained": 12}, "Linus": {"old_hearts": 0, "new_hearts": 0, "points_gained": -10}, "Sebastian": {"old_hearts": 0, "new_hearts": 0, "points_gained": -10}, "Wizard": {"old_hearts": 0, "new_hearts": 0, "points_gained": 12}, "Krobus": {"old_hearts": 0, "new_hearts": 0, "points_gained": 14}}, "bundles_completed": 8}}, {"session_id": "2025-11-01-1950", "detected_at": "2025-11-01T19:50:41.683055", "game_progress": {"start": "Fall 13, Year 2", "end": "Fall 16, Year 2", "days_played": 3, "play_time_minutes": 47}, "financial": {"starting_money": 87434, "ending_money": 318898, "change": 231464, "total_earned_lifetime": 1736051}, "key_accomplishments": ["Gained 2,274 Farming XP", "Gained 36 Fishing XP", "Gained 779 Foraging XP", "Gained 8 Mining XP", "Gained 66 Combat XP", "Earned 231,464g (net)", "Purchased 1 new animals", "Reached 10 hearts with Abigail", "Completed 1 Community Center bundle(s)", "Progressed 3 in-game day(s)"], "changes_detail": {"money_change": 231464, "total_earned_change": 255564, "days_passed": 3, "play_time_change": 2872928, "skill_changes": {"farming": {"old_level": 10, "new_level": 10, "xp_gained": 2274}, "fishing": {"old_level": 9, "new_level": 9, "xp_gained": 36}, "foraging": {"old_level": 10, "new_level": 10, "xp_gained": 779}, "mining": {"old_level": 9, "new_level": 9, "xp_gained": 8}, "combat": {"old_level": 7, "new_level": 7, "xp_gained": 66}}, "animals_change": 1, "friendship_changes": {"Lewis": {"old_hearts": 1, "new_hearts": 1, "points_gained": -6}, "Robin": {"old_hearts": 2, "new_hearts": 2, "points_gained": -6}, "Abigail": {"old_hearts": 8, "new_hearts": 10, "points_gained": 521}, "Pierre": {"old_hearts": 0, "new_hearts": 0, "points_gained": -6}, "George": {"old_hearts": 0, "new_hearts": 0, "points_gained": -6}, "Clint": {"old_hearts": 0, "new_hearts": 0, "points_gained": -6}, "Willy": {"old_hearts": 0, "new_hearts": 0, "points_gained": 18}, "Emily": {"old_hearts": 0, "new_hearts": 0, "points_gained": -6}, "Demetrius": {"old_hearts": 0, "new_hearts": 0, "points_gained": -6}, "Linus": {"old_hearts": 0, "new_hearts": 0, "points_gained": -6}, "Sebastian": {"old_hearts": 0, "new_hearts": 0, "points_gained": -6}, "Wizard": {"old_hearts": 0, "new_hearts": 0, "points_gained": -6}, "Krobus": {"old_hearts": 0, "new_hearts": 0, "points_gained": 16}}, "bundles_completed": 1}}, {"session_id": "2025-11-02-1120", "detected_at": "2025-11-02T11:20:34.343736", "game_progress": {"start": "Fall 16, Year 2", "end": "Fall 20, Year 2", "days_played": 4, "play_time_minutes": 71}, "financial": {"starting_money": 318898, "ending_money": 363063, "change": 44165, "total_earned_lifetime": 1863241}, "key_accomplishments": ["Gained 1,014 Farming XP", "Gained 524 Foraging XP", "Reached Mining Level 10", "Gained 894 Combat XP", "Earned 44,165g (net)", "Reached 11 hearts with Abigail", "Reached 1 hearts with Gus", "Completed 2 Community Center bundle(s)", "Progressed 4 in-game day(s)"], "changes_detail": {"money_change": 44165, "total_earned_change": 127190, "days_passed": 4, "play_time_change": 4299440, "skill_changes": {"farming": {"old_level": 10, "new_level": 10, "xp_gained": 1014}, "foraging": {"old_level": 10, "new_level": 10, "xp_gained": 524}, "mining": {"old_level": 9, "new_level": 10, "xp_gained": 1175}, "combat": {"old_level": 7, "new_level": 7, "xp_gained": 894}}, "animals_change": 0, "friendship_changes": {"Lewis": {"old_hearts": 1, "new_hearts": 1, "points_gained": 14}, "Robin": {"old_hearts": 2, "new_hearts": 2, "points_gained": -8}, "Abigail": {"old_hearts": 10, "new_hearts": 11, "points_gained": 59}, "Pierre": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Gus": {"old_hearts": 0, "new_hearts": 1, "points_gained": 253}, "George": {"old_hearts": 0, "new_hearts": 0, "points_gained": -8}, "Shane": {"old_hearts": 0, "new_hearts": 0, "points_gained": 14}, "Clint": {"old_hearts": 0, "new_hearts": 0, "points_gained": 14}, "Willy": {"old_hearts": 0, "new_hearts": 0, "points_gained": -8}, "Emily": {"old_hearts": 0, "new_hearts": 0, "points_gained": -8}, "Demetrius": {"old_hearts": 0, "new_hearts": 0, "points_gained": -8}, "Linus": {"old_hearts": 0, "new_hearts": 0, "points_gained": -8}, "Sebastian": {"old_hearts": 0, "new_hearts": 0, "points_gained": -8}, "Wizard": {"old_hearts": 0, "new_hearts": 0, "points_gained": -8}, "Krobus": {"old_hearts": 0, "new_hearts": 0, "points_gained": -8}}, "bundles_completed": 2}}, {"session_id": "2025-11-02-1639", "detected_at": "2025-11-02T16:39:34.266056", "game_progress": {"start": "Fall 20, Year 2", "end": "Fall 21, Year 2", "days_played": 1, "play_time_minutes": 17}, "financial": {"starting_money": 363063, "ending_money": 373953, "change": 10890, "total_earned_lifetime": 1874231}, "key_accomplishments": ["Gained 1,983 Farming XP", "Gained 343 Foraging XP", "Gained 98 Mining XP", "Earned 10,890g (net)", "Progressed 1 in-game day(s)"], "bundle_readiness": {"ready_to_complete": [], "priority_bundles": [{"name": "Fodder Bundle", "missing": 1, "completion": "67%"}, {"name": "The Missing Bundle", "missing": 4, "completion": "20%"}]}, "changes_detail": {"money_change": 10890, "total_earned_change": 10990, "days_passed": 1, "play_time_change": 1028512, "skill_changes": {"farming": {"old_level": 10, "new_level": 10, "xp_gained": 1983}, "foraging": {"old_level": 10, "new_level": 10, "xp_gained": 343}, "mining": {"old_level": 10, "new_level": 10, "xp_gained": 98}}, "animals_change": 0, "friendship_changes": {"Lewis": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Robin": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Abigail": {"old_hearts": 11, "new_hearts": 11, "points_gained": 45}, "Gus": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "George": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Shane": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Clint": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Willy": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Emily": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Demetrius": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Linus": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Sebastian": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Wizard": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Krobus": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}}, "bundles_completed": 0}}, {"session_id": "2025-11-03-1814", "detected_at": "2025-11-03T18:14:17.957403", "game_progress": {"start": "Fall 24, Year 2", "end": "Fall 26, Year 2", "days_played": 2, "play_time_minutes": 41}, "financial": {"starting_money": 437574, "ending_money": 517664, "change": 80090, "total_earned_lifetime": 2031242}, "key_accomplishments": ["Gained 1,373 Farming XP", "Gained 228 Fishing XP", "Gained 426 Foraging XP", "Earned 80,090g (net)", "Progressed 2 in-game day(s)"], "bundle_readiness": {"ready_to_complete": [], "priority_bundles": [{"name": "The Missing Bundle", "missing": 4, "completion": "20%"}]}, "changes_detail": {"money_change": 80090, "total_earned_change": 80390, "days_passed": 2, "play_time_change": 2477872, "skill_changes": {"farming": {"old_level": 10, "new_level": 10, "xp_gained": 1373}, "fishing": {"old_level": 9, "new_level": 9, "xp_gained": 228}, "foraging": {"old_level": 10, "new_level": 10, "xp_gained": 426}}, "animals_change": 0, "friendship_changes": {"Lewis": {"old_hearts": 3, "new_hearts": 3, "points_gained": -4}, "Robin": {"old_hearts": 4, "new_hearts": 4, "points_gained": -4}, "Abigail": {"old_hearts": 11, "new_hearts": 11, "points_gained": 26}, "Pierre": {"old_hearts": 1, "new_hearts": 1, "points_gained": -4}, "Marnie": {"old_hearts": 1, "new_hearts": 1, "points_gained": -4}, "Gus": {"old_hearts": 2, "new_hearts": 2, "points_gained": -4}, "Evelyn": {"old_hearts": 1, "new_hearts": 1, "points_gained": -4}, "George": {"old_hearts": 2, "new_hearts": 2, "points_gained": -4}, "Shane": {"old_hearts": 0, "new_hearts": 0, "points_gained": -4}, "Pam": {"old_hearts": 1, "new_hearts": 1, "points_gained": -4}, "Clint": {"old_hearts": 2, "new_hearts": 2, "points_gained": -4}, "Jodi": {"old_hearts": 1, "new_hearts": 1, "points_gained": -4}, "Vincent": {"old_hearts": 1, "new_hearts": 1, "points_gained": -4}, "Jas": {"old_hearts": 1, "new_hearts": 1, "points_gained": -4}, "Willy": {"old_hearts": 2, "new_hearts": 2, "points_gained": 38}, "Emily": {"old_hearts": 0, "new_hearts": 0, "points_gained": -4}, "Demetrius": {"old_hearts": 2, "new_hearts": 2, "points_gained": -4}, "Linus": {"old_hearts": 2, "new_hearts": 2, "points_gained": -4}, "Caroline": {"old_hearts": 1, "new_hearts": 1, "points_gained": -4}, "Sebastian": {"old_hearts": 0, "new_hearts": 0, "points_gained": -4}, "Wizard": {"old_hearts": 2, "new_hearts": 2, "points_gained": -4}, "Kent": {"old_hearts": 1, "new_hearts": 1, "points_gained": -4}, "Krobus": {"old_hearts": 2, "new_hearts": 2, "points_gained": -4}}, "bundles_completed": 0}}, {"session_id": "2025-11-03-2054", "detected_at": "2025-11-03T20:54:35.849530", "game_progress": {"start": "Fall 26, Year 2", "end": "Winter 1, Year 2", "days_played": 3, "play_time_minutes": 59}, "financial": {"starting_money": 517664, "ending_money": 532822, "change": 15158, "total_earned_lifetime": 2129475}, "key_accomplishments": ["Gained 2,297 Farming XP", "Gained 242 Fishing XP", "Gained 528 Foraging XP", "Gained 65 Mining XP", "Gained 102 Combat XP", "Earned 15,158g (net)", "Reached 3 hearts with Linus", "Progressed 3 in-game day(s)"], "bundle_readiness": {"ready_to_complete": [], "priority_bundles": [{"name": "The Missing Bundle", "missing": 4, "completion": "20%"}]}, "changes_detail": {"money_change": 15158, "total_earned_change": 98233, "days_passed": 3, "play_time_change": 3540016, "skill_changes": {"farming": {"old_level": 10, "new_level": 10, "xp_gained": 2297}, "fishing": {"old_level": 9, "new_level": 9, "xp_gained": 242}, "foraging": {"old_level": 10, "new_level": 10, "xp_gained": 528}, "mining": {"old_level": 10, "new_level": 10, "xp_gained": 65}, "combat": {"old_level": 8, "new_level": 8, "xp_gained": 102}}, "animals_change": 0, "friendship_changes": {"Lewis": {"old_hearts": 3, "new_hearts": 3, "points_gained": -6}, "Robin": {"old_hearts": 4, "new_hearts": 4, "points_gained": -6}, "Abigail": {"old_hearts": 11, "new_hearts": 11, "points_gained": 13}, "Pierre": {"old_hearts": 1, "new_hearts": 1, "points_gained": -6}, "Marnie": {"old_hearts": 1, "new_hearts": 1, "points_gained": -6}, "Gus": {"old_hearts": 2, "new_hearts": 2, "points_gained": -6}, "Evelyn": {"old_hearts": 1, "new_hearts": 1, "points_gained": -6}, "George": {"old_hearts": 2, "new_hearts": 2, "points_gained": -6}, "Shane": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Pam": {"old_hearts": 1, "new_hearts": 1, "points_gained": -6}, "Clint": {"old_hearts": 2, "new_hearts": 2, "points_gained": -6}, "Jodi": {"old_hearts": 1, "new_hearts": 1, "points_gained": -6}, "Vincent": {"old_hearts": 1, "new_hearts": 1, "points_gained": -6}, "Jas": {"old_hearts": 1, "new_hearts": 1, "points_gained": -6}, "Willy": {"old_hearts": 2, "new_hearts": 2, "points_gained": 16}, "Emily": {"old_hearts": 0, "new_hearts": 0, "points_gained": -6}, "Demetrius": {"old_hearts": 2, "new_hearts": 2, "points_gained": -6}, "Linus": {"old_hearts": 2, "new_hearts": 3, "points_gained": 244}, "Caroline": {"old_hearts": 1, "new_hearts": 1, "points_gained": -6}, "Sebastian": {"old_hearts": 0, "new_hearts": 0, "points_gained": -6}, "Wizard": {"old_hearts": 2, "new_hearts": 2, "points_gained": -6}, "Dwarf": {"old_hearts": 0, "new_hearts": 0, "points_gained": 20}, "Kent": {"old_hearts": 1, "new_hearts": 1, "points_gained": -6}, "Krobus": {"old_hearts": 2, "new_hearts": 2, "points_gained": -6}}, "bundles_completed": 0}}, {"session_id": "2025-11-04-2256", "detected_at": "2025-11-04T22:56:02.244325", "game_progress": {"start": "Winter 1, Year 2", "end": "Winter 4, Year 2", "days_played": 3, "play_time_minutes": 60}, "financial": {"starting_money": 532822, "ending_money": 568331, "change": 35509, "total_earned_lifetime": 2176684}, "key_accomplishments": ["Gained 626 Farming XP", "Gained 819 Foraging XP", "Gained 2,032 Mining XP", "Gained 637 Combat XP", "Earned 35,509g (net)", "Progressed 3 in-game day(s)"], "bundle_readiness": {"ready_to_complete": [], "priority_bundles": [{"name": "The Missing Bundle", "missing": 4, "completion": "20%"}]}, "changes_detail": {"money_change": 35509, "total_earned_change": 47209, "days_passed": 3, "play_time_change": 3625264, "skill_changes": {"farming": {"old_level": 10, "new_level": 10, "xp_gained": 626}, "foraging": {"old_level": 10, "new_level": 10, "xp_gained": 819}, "mining": {"old_level": 10, "new_level": 10, "xp_gained": 2032}, "combat": {"old_level": 8, "new_level": 8, "xp_gained": 637}}, "animals_change": 0, "friendship_changes": {"Lewis": {"old_hearts": 3, "new_hearts": 3, "points_gained": -6}, "Robin": {"old_hearts": 4, "new_hearts": 4, "points_gained": -6}, "Abigail": {"old_hearts": 11, "new_hearts": 11, "points_gained": 39}, "Pierre": {"old_hearts": 1, "new_hearts": 1, "points_gained": -6}, "Marnie": {"old_hearts": 1, "new_hearts": 1, "points_gained": -6}, "Gus": {"old_hearts": 2, "new_hearts": 2, "points_gained": -6}, "Evelyn": {"old_hearts": 1, "new_hearts": 1, "points_gained": -6}, "George": {"old_hearts": 2, "new_hearts": 2, "points_gained": -6}, "Pam": {"old_hearts": 1, "new_hearts": 1, "points_gained": -6}, "Clint": {"old_hearts": 2, "new_hearts": 2, "points_gained": -6}, "Jodi": {"old_hearts": 1, "new_hearts": 1, "points_gained": -6}, "Vincent": {"old_hearts": 1, "new_hearts": 1, "points_gained": -6}, "Jas": {"old_hearts": 1, "new_hearts": 1, "points_gained": -6}, "Willy": {"old_hearts": 2, "new_hearts": 2, "points_gained": -6}, "Emily": {"old_hearts": 0, "new_hearts": 0, "points_gained": -6}, "Demetrius": {"old_hearts": 2, "new_hearts": 2, "points_gained": -6}, "Linus": {"old_hearts": 3, "new_hearts": 3, "points_gained": -6}, "Caroline": {"old_hearts": 1, "new_hearts": 1, "points_gained": -6}, "Sebastian": {"old_hearts": 0, "new_hearts": 0, "points_gained": -6}, "Wizard": {"old_hearts": 2, "new_hearts": 2, "points_gained": -6}, "Dwarf": {"old_hearts": 0, "new_hearts": 0, "points_gained": -6}, "Kent": {"old_hearts": 1, "new_hearts": 1, "points_gained": -6}, "Krobus": {"old_hearts": 2, "new_hearts": 1, "points_gained": -6}}, "bundles_completed": 0}}, {"session_id": "2025-11-04-2320", "detected_at": "2025-11-04T23:20:50.278987", "game_progress": {"start": "Winter 4, Year 2", "end": "Winter 5, Year 2", "days_played": 1, "play_time_minutes": 21}, "financial": {"starting_money": 568331, "ending_money": 677858, "change": 109527, "total_earned_lifetime": 2286211}, "key_accomplishments": ["Gained 912 Farming XP", "Gained 547 Fishing XP", "Gained 110 Foraging XP", "Earned 109,527g (net)", "Progressed 1 in-game day(s)"], "bundle_readiness": {"ready_to_complete": [], "priority_bundles": [{"name": "The Missing Bundle", "missing": 4, "completion": "20%"}]}, "changes_detail": {"money_change": 109527, "total_earned_change": 109527, "days_passed": 1, "play_time_change": 1308640, "skill_changes": {"farming": {"old_level": 10, "new_level": 10, "xp_gained": 912}, "fishing": {"old_level": 9, "new_level": 9, "xp_gained": 547}, "foraging": {"old_level": 10, "new_level": 10, "xp_gained": 110}}, "animals_change": 0, "friendship_changes": {"Lewis": {"old_hearts": 3, "new_hearts": 3, "points_gained": -2}, "Robin": {"old_hearts": 4, "new_hearts": 4, "points_gained": -2}, "Abigail": {"old_hearts": 11, "new_hearts": 11, "points_gained": 13}, "Pierre": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Marnie": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Gus": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Evelyn": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "George": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Pam": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Clint": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Jodi": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Vincent": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Jas": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Willy": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Emily": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Demetrius": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Linus": {"old_hearts": 3, "new_hearts": 3, "points_gained": -2}, "Caroline": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Sebastian": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Wizard": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Dwarf": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Kent": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Krobus": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}}, "bundles_completed": 0}}, {"session_id": "2025-11-04-2345", "detected_at": "2025-11-04T23:45:58.240001", "game_progress": {"start": "Winter 5, Year 2", "end": "Winter 6, Year 2", "days_played": 1, "play_time_minutes": 21}, "financial": {"starting_money": 677858, "ending_money": 684574, "change": 6716, "total_earned_lifetime": 2305977}, "key_accomplishments": ["Gained 155 Farming XP", "Gained 352 Fishing XP", "Gained 117 Foraging XP", "Earned 6,716g (net)", "Reached 3 hearts with Wizard", "Reached 2 hearts with Krobus", "Progressed 1 in-game day(s)"], "bundle_readiness": {"ready_to_complete": [], "priority_bundles": [{"name": "The Missing Bundle", "missing": 4, "completion": "20%"}]}, "changes_detail": {"money_change": 6716, "total_earned_change": 19766, "days_passed": 1, "play_time_change": 1290272, "skill_changes": {"farming": {"old_level": 10, "new_level": 10, "xp_gained": 155}, "fishing": {"old_level": 9, "new_level": 9, "xp_gained": 352}, "foraging": {"old_level": 10, "new_level": 10, "xp_gained": 117}}, "animals_change": 0, "friendship_changes": {"Lewis": {"old_hearts": 3, "new_hearts": 3, "points_gained": -2}, "Robin": {"old_hearts": 4, "new_hearts": 4, "points_gained": -2}, "Abigail": {"old_hearts": 11, "new_hearts": 11, "points_gained": 13}, "Pierre": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Marnie": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Gus": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Evelyn": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "George": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Pam": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Clint": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Elliott": {"old_hearts": 0, "new_hearts": 0, "points_gained": 20}, "Jodi": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Vincent": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Jas": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Willy": {"old_hearts": 2, "new_hearts": 2, "points_gained": 20}, "Emily": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Demetrius": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Linus": {"old_hearts": 3, "new_hearts": 3, "points_gained": -2}, "Caroline": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Sebastian": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Wizard": {"old_hearts": 2, "new_hearts": 3, "points_gained": 275}, "Dwarf": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Kent": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Krobus": {"old_hearts": 1, "new_hearts": 2, "points_gained": 20}}, "bundles_completed": 0}}, {"session_id": "2025-11-05-0010", "detected_at": "2025-11-05T00:10:07.805364", "game_progress": {"start": "Winter 6, Year 2", "end": "Winter 7, Year 2", "days_played": 1, "play_time_minutes": 20}, "financial": {"starting_money": 684574, "ending_money": 658405, "change": -26169, "total_earned_lifetime": 2336883}, "key_accomplishments": ["Gained 237 Farming XP", "Gained 45 Foraging XP", "Gained 409 Mining XP", "Invested 26,169g", "Purchased 3 new animals", "Reached 5 hearts with Robin", "Progressed 1 in-game day(s)"], "bundle_readiness": {"ready_to_complete": [], "priority_bundles": [{"name": "The Missing Bundle", "missing": 4, "completion": "20%"}]}, "changes_detail": {"money_change": -26169, "total_earned_change": 30906, "days_passed": 1, "play_time_change": 1226496, "skill_changes": {"farming": {"old_level": 10, "new_level": 10, "xp_gained": 237}, "foraging": {"old_level": 10, "new_level": 10, "xp_gained": 45}, "mining": {"old_level": 10, "new_level": 10, "xp_gained": 409}}, "animals_change": 3, "friendship_changes": {"Lewis": {"old_hearts": 3, "new_hearts": 3, "points_gained": -2}, "Robin": {"old_hearts": 4, "new_hearts": 5, "points_gained": 248}, "Abigail": {"old_hearts": 11, "new_hearts": 11, "points_gained": 13}, "Pierre": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Marnie": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Gus": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Evelyn": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "George": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Pam": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Clint": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Elliott": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Jodi": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Vincent": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Jas": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Willy": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Emily": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Demetrius": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}, "Linus": {"old_hearts": 3, "new_hearts": 3, "points_gained": -2}, "Caroline": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Sebastian": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Wizard": {"old_hearts": 3, "new_hearts": 3, "points_gained": -2}, "Dwarf": {"old_hearts": 0, "new_hearts": 0, "points_gained": -2}, "Kent": {"old_hearts": 1, "new_hearts": 1, "points_gained": -2}, "Krobus": {"old_hearts": 2, "new_hearts": 2, "points_gained": -2}}, "bundles_completed": 0}}], "meta": {"created": "2024-01-15", "total_sessions": 12, "last_updated": "2025-11-05T00:10:07.805874"}};

        // Embed villager data
        const villagersData = [{"name": "Abigail", "hearts": 11, "points": 2989, "color": "#9b59b6", "initials": "AB", "max_hearts": 14}, {"name": "Alex", "hearts": 0, "points": 0, "color": "#3498db", "initials": "AL", "max_hearts": 14}, {"name": "Caroline", "hearts": 1, "points": 474, "color": "#2ecc71", "initials": "CA", "max_hearts": 10}, {"name": "Clint", "hearts": 2, "points": 607, "color": "#7f8c8d", "initials": "CL", "max_hearts": 10}, {"name": "Demetrius", "hearts": 2, "points": 569, "color": "#1abc9c", "initials": "DE", "max_hearts": 10}, {"name": "Dwarf", "hearts": 0, "points": 8, "color": "#696969", "initials": "DW", "max_hearts": 10}, {"name": "Elliott", "hearts": 0, "points": 18, "color": "#e74c3c", "initials": "EL", "max_hearts": 14}, {"name": "Emily", "hearts": 0, "points": 107, "color": "#ff1493", "initials": "EM", "max_hearts": 14}, {"name": "Evelyn", "hearts": 1, "points": 474, "color": "#ecf0f1", "initials": "EV", "max_hearts": 10}, {"name": "George", "hearts": 2, "points": 573, "color": "#bdc3c7", "initials": "GE", "max_hearts": 10}, {"name": "Gus", "hearts": 2, "points": 723, "color": "#d35400", "initials": "GU", "max_hearts": 10}, {"name": "Haley", "hearts": 0, "points": 0, "color": "#f39c12", "initials": "HA", "max_hearts": 14}, {"name": "Harvey", "hearts": 0, "points": 0, "color": "#16a085", "initials": "HV", "max_hearts": 14}, {"name": "Jas", "hearts": 1, "points": 474, "color": "#ff69b4", "initials": "JA", "max_hearts": 10}, {"name": "Jodi", "hearts": 1, "points": 474, "color": "#ff6347", "initials": "JO", "max_hearts": 10}, {"name": "Kent", "hearts": 1, "points": 474, "color": "#556b2f", "initials": "KE", "max_hearts": 10}, {"name": "Krobus", "hearts": 2, "points": 514, "color": "#4b0082", "initials": "KR", "max_hearts": 10}, {"name": "Leah", "hearts": 0, "points": 0, "color": "#27ae60", "initials": "LE", "max_hearts": 14}, {"name": "Lewis", "hearts": 3, "points": 781, "color": "#8b4513", "initials": "LW", "max_hearts": 10}, {"name": "Linus", "hearts": 3, "points": 832, "color": "#228b22", "initials": "LI", "max_hearts": 10}, {"name": "Marnie", "hearts": 1, "points": 474, "color": "#cd853f", "initials": "MN", "max_hearts": 10}, {"name": "Maru", "hearts": 0, "points": 0, "color": "#8e44ad", "initials": "MA", "max_hearts": 14}, {"name": "Pam", "hearts": 1, "points": 474, "color": "#daa520", "initials": "PM", "max_hearts": 10}, {"name": "Penny", "hearts": 0, "points": 0, "color": "#e67e22", "initials": "PE", "max_hearts": 14}, {"name": "Pierre", "hearts": 1, "points": 474, "color": "#32cd32", "initials": "PI", "max_hearts": 10}, {"name": "Robin", "hearts": 5, "points": 1267, "color": "#ff4500", "initials": "RO", "max_hearts": 10}, {"name": "Sam", "hearts": 0, "points": 0, "color": "#f1c40f", "initials": "SA", "max_hearts": 14}, {"name": "Sebastian", "hearts": 0, "points": 39, "color": "#34495e", "initials": "SE", "max_hearts": 14}, {"name": "Shane", "hearts": 0, "points": 0, "color": "#95a5a6", "initials": "SH", "max_hearts": 14}, {"name": "Vincent", "hearts": 1, "points": 474, "color": "#87ceeb", "initials": "VI", "max_hearts": 10}, {"name": "Willy", "hearts": 2, "points": 566, "color": "#4682b4", "initials": "WI", "max_hearts": 10}, {"name": "Wizard", "hearts": 3, "points": 886, "color": "#9370db", "initials": "WZ", "max_hearts": 10}];

        // Store selected villager (default: Abigail)
        let selectedVillager = localStorage.getItem('selectedVillager') || 'Abigail';

        // Villager chip selection handler
        document.addEventListener('DOMContentLoaded', function() {
            const chips = document.querySelectorAll('.villager-chip');

            chips.forEach(chip => {
                chip.addEventListener('click', function() {
                    const villagerName = this.dataset.villager;

                    // Update active state
                    chips.forEach(c => c.classList.remove('active'));
                    this.classList.add('active');

                    // Save selection
                    selectedVillager = villagerName;
                    localStorage.setItem('selectedVillager', villagerName);

                    // Scroll chip into view
                    this.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'center' });

                    // Update relationship chart using window function
                    if (window.refreshRelationshipChart) {
                        window.refreshRelationshipChart(villagerName);
                    }
                });
            });

            // Set initial selection from localStorage
            if (selectedVillager !== 'Abigail') {
                const savedChip = document.querySelector(`[data-villager="${selectedVillager}"]`);
                if (savedChip) {
                    document.querySelector('.villager-chip.active')?.classList.remove('active');
                    savedChip.classList.add('active');
                    savedChip.scrollIntoView({ behavior: 'auto', block: 'nearest', inline: 'center' });
                }
            }
        });
    </script>
    <script src="chart_config.js"></script>
    <script src="chart_renderer.js"></script>
</body>
</html>